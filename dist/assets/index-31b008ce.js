var Yr=Object.defineProperty;var Xr=(t,e,r)=>e in t?Yr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Te=(t,e,r)=>(Xr(t,typeof e!="symbol"?e+"":e,r),r);import{r as u,R as ee,b as ea}from"./vendor-f4c6be81.js";import{u as sr,a as ta,N as nt,b as sa,O as ra,L as rr,c as aa,B as na,R as ia,d as oe}from"./router-90062851.js";import{r as $}from"./charts-0a4f299e.js";import{m as B,q as ne,a as Dt,A as ar}from"./ui-53645b53.js";import{c as oa}from"./supabase-36431bb8.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var nr={exports:{}},gt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=u,ca=Symbol.for("react.element"),da=Symbol.for("react.fragment"),ua=Object.prototype.hasOwnProperty,ha=la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ma={key:!0,ref:!0,__self:!0,__source:!0};function ir(t,e,r){var a,n={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(a in e)ua.call(e,a)&&!ma.hasOwnProperty(a)&&(n[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps,e)n[a]===void 0&&(n[a]=e[a]);return{$$typeof:ca,type:t,key:i,ref:o,props:n,_owner:ha.current}}gt.Fragment=da;gt.jsx=ir;gt.jsxs=ir;nr.exports=gt;var s=nr.exports;class He{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Qe=typeof window>"u"||"Deno"in window;function he(){}function fa(t,e){return typeof t=="function"?t(e):t}function Mt(t){return typeof t=="number"&&t>=0&&t!==1/0}function or(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qe(t,e,r){return xt(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function je(t,e,r){return xt(t)?[{...e,queryKey:t},r]:[t||{},e]}function xs(t,e){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:o,stale:l}=t;if(xt(o)){if(a){if(e.queryHash!==Wt(o,e.options))return!1}else if(!it(e.queryKey,o))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof n<"u"&&n!==e.state.fetchStatus||i&&!i(e))}function bs(t,e){const{exact:r,fetching:a,predicate:n,mutationKey:i}=t;if(xt(i)){if(!e.options.mutationKey)return!1;if(r){if(Ae(e.options.mutationKey)!==Ae(i))return!1}else if(!it(e.options.mutationKey,i))return!1}return!(typeof a=="boolean"&&e.state.status==="loading"!==a||n&&!n(e))}function Wt(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ae)(t)}function Ae(t){return JSON.stringify(t,(e,r)=>Lt(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function it(t,e){return lr(t,e)}function lr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!lr(t[r],e[r])):!1}function cr(t,e){if(t===e)return t;const r=vs(t)&&vs(e);if(r||Lt(t)&&Lt(e)){const a=r?t.length:Object.keys(t).length,n=r?e:Object.keys(e),i=n.length,o=r?[]:{};let l=0;for(let d=0;d<i;d++){const m=r?d:n[d];o[m]=cr(t[m],e[m]),o[m]===t[m]&&l++}return a===i&&l===a?t:o}return e}function _t(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function vs(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lt(t){if(!ws(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!ws(r)||!r.hasOwnProperty("isPrototypeOf"))}function ws(t){return Object.prototype.toString.call(t)==="[object Object]"}function xt(t){return Array.isArray(t)}function dr(t){return new Promise(e=>{setTimeout(e,t)})}function js(t){dr(0).then(t)}function pa(){if(typeof AbortController=="function")return new AbortController}function qt(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?cr(t,e):e}class ya extends He{constructor(){super(),this.setup=e=>{if(!Qe&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ot=new ya,ks=["online","offline"];class ga extends He{constructor(){super(),this.setup=e=>{if(!Qe&&window.addEventListener){const r=()=>e();return ks.forEach(a=>{window.addEventListener(a,r,!1)}),()=>{ks.forEach(a=>{window.removeEventListener(a,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(a=>{typeof a=="boolean"?this.setOnline(a):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const lt=new ga;function xa(t){return Math.min(1e3*2**t,3e4)}function bt(t){return(t??"online")==="online"?lt.isOnline():!0}class ur{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function tt(t){return t instanceof ur}function hr(t){let e=!1,r=0,a=!1,n,i,o;const l=new Promise((N,F)=>{i=N,o=F}),d=N=>{a||(g(new ur(N)),t.abort==null||t.abort())},m=()=>{e=!0},h=()=>{e=!1},p=()=>!ot.isFocused()||t.networkMode!=="always"&&!lt.isOnline(),y=N=>{a||(a=!0,t.onSuccess==null||t.onSuccess(N),n==null||n(),i(N))},g=N=>{a||(a=!0,t.onError==null||t.onError(N),n==null||n(),o(N))},w=()=>new Promise(N=>{n=F=>{const P=a||!p();return P&&N(F),P},t.onPause==null||t.onPause()}).then(()=>{n=void 0,a||t.onContinue==null||t.onContinue()}),C=()=>{if(a)return;let N;try{N=t.fn()}catch(F){N=Promise.reject(F)}Promise.resolve(N).then(y).catch(F=>{var P,T;if(a)return;const D=(P=t.retry)!=null?P:3,M=(T=t.retryDelay)!=null?T:xa,L=typeof M=="function"?M(r,F):M,E=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,F);if(e||!E){g(F);return}r++,t.onFail==null||t.onFail(r,F),dr(L).then(()=>{if(p())return w()}).then(()=>{e?g(F):C()})})};return bt(t.networkMode)?C():w().then(C),{promise:l,cancel:d,continue:()=>(n==null?void 0:n())?l:Promise.resolve(),cancelRetry:m,continueRetry:h}}const Zt=console;function ba(){let t=[],e=0,r=h=>{h()},a=h=>{h()};const n=h=>{let p;e++;try{p=h()}finally{e--,e||l()}return p},i=h=>{e?t.push(h):js(()=>{r(h)})},o=h=>(...p)=>{i(()=>{h(...p)})},l=()=>{const h=t;t=[],h.length&&js(()=>{a(()=>{h.forEach(p=>{r(p)})})})};return{batch:n,batchCalls:o,schedule:i,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{a=h}}}const Y=ba();class mr{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mt(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Qe?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class va extends mr{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Zt,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||wa(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const a=qt(this.state.data,e,this.options);return this.dispatch({data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const a=this.promise;return(r=this.retryer)==null||r.cancel(e),a?a.then(he).catch(he):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!or(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var a,n;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(w=>w.options.queryFn);g&&this.setOptions(g.options)}const o=pa(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};d(l);const m=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:m};if(d(h),(a=this.options.behavior)==null||a.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((n=h.fetchOptions)==null?void 0:n.meta)){var p;this.dispatch({type:"fetch",meta:(p=h.fetchOptions)==null?void 0:p.meta})}const y=g=>{if(tt(g)&&g.silent||this.dispatch({type:"error",error:g}),!tt(g)){var w,C,N,F;(w=(C=this.cache.config).onError)==null||w.call(C,g,this),(N=(F=this.cache.config).onSettled)==null||N.call(F,this.state.data,g,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=hr({fn:h.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:g=>{var w,C,N,F;if(typeof g>"u"){y(new Error(this.queryHash+" data is undefined"));return}this.setData(g),(w=(C=this.cache.config).onSuccess)==null||w.call(C,g,this),(N=(F=this.cache.config).onSettled)==null||N.call(F,g,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:y,onFail:(g,w)=>{this.dispatch({type:"failed",failureCount:g,error:w})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=a=>{var n,i;switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(n=e.meta)!=null?n:null,fetchStatus:bt(this.options.networkMode)?"fetching":"paused",...!a.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return tt(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...a,error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=r(this.state),Y.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function wa(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class ja extends He{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,a){var n;const i=r.queryKey,o=(n=r.queryHash)!=null?n:Wt(i,r);let l=this.get(o);return l||(l=new va({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(r),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(a=>a!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Y.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[a]=je(e,r);return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(n=>xs(a,n))}findAll(e,r){const[a]=je(e,r);return Object.keys(a).length>0?this.queries.filter(n=>xs(a,n)):this.queries}notify(e){Y.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){Y.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Y.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class ka extends mr{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Zt,this.observers=[],this.state=e.state||Na(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var E;return this.retryer=hr({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(I,U)=>{this.dispatch({type:"failed",failureCount:I,error:U})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(E=this.options.retry)!=null?E:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var a,n,i,o,l,d,m,h;if(!r){var p,y,g,w;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(y=this.mutationCache.config).onMutate)==null?void 0:p.call(y,this.state.variables,this));const I=await((g=(w=this.options).onMutate)==null?void 0:g.call(w,this.state.variables));I!==this.state.context&&this.dispatch({type:"loading",context:I,variables:this.state.variables})}const E=await e();return await((a=(n=this.mutationCache.config).onSuccess)==null?void 0:a.call(n,E,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,E,this.state.variables,this.state.context)),await((l=(d=this.mutationCache.config).onSettled)==null?void 0:l.call(d,E,null,this.state.variables,this.state.context,this)),await((m=(h=this.options).onSettled)==null?void 0:m.call(h,E,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:E}),E}catch(E){try{var C,N,F,P,T,D,M,L;throw await((C=(N=this.mutationCache.config).onError)==null?void 0:C.call(N,E,this.state.variables,this.state.context,this)),await((F=(P=this.options).onError)==null?void 0:F.call(P,E,this.state.variables,this.state.context)),await((T=(D=this.mutationCache.config).onSettled)==null?void 0:T.call(D,void 0,E,this.state.variables,this.state.context,this)),await((M=(L=this.options).onSettled)==null?void 0:M.call(L,void 0,E,this.state.variables,this.state.context)),E}finally{this.dispatch({type:"error",error:E})}}}dispatch(e){const r=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"loading":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!bt(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...a,...e.state}}};this.state=r(this.state),Y.batch(()=>{this.observers.forEach(a=>{a.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Na(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Sa extends He{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,a){const n=new ka({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:a,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){Y.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>bs(e,r))}findAll(e){return this.mutations.filter(r=>bs(e,r))}notify(e){Y.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(a=>a.state.isPaused);return Y.batch(()=>r.reduce((a,n)=>a.then(()=>n.continue().catch(he)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Ca(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,a,n,i,o;const l=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,d=(a=t.fetchOptions)==null||(n=a.meta)==null?void 0:n.fetchMore,m=d==null?void 0:d.pageParam,h=(d==null?void 0:d.direction)==="forward",p=(d==null?void 0:d.direction)==="backward",y=((i=t.state.data)==null?void 0:i.pages)||[],g=((o=t.state.data)==null?void 0:o.pageParams)||[];let w=g,C=!1;const N=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>{var E;if((E=t.signal)!=null&&E.aborted)C=!0;else{var I;(I=t.signal)==null||I.addEventListener("abort",()=>{C=!0})}return t.signal}})},F=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),P=(L,E,I,U)=>(w=U?[E,...w]:[...w,E],U?[I,...L]:[...L,I]),T=(L,E,I,U)=>{if(C)return Promise.reject("Cancelled");if(typeof I>"u"&&!E&&L.length)return Promise.resolve(L);const re={queryKey:t.queryKey,pageParam:I,meta:t.options.meta};N(re);const X=F(re);return Promise.resolve(X).then(v=>P(L,I,v,U))};let D;if(!y.length)D=T([]);else if(h){const L=typeof m<"u",E=L?m:Ns(t.options,y);D=T(y,L,E)}else if(p){const L=typeof m<"u",E=L?m:Aa(t.options,y);D=T(y,L,E,!0)}else{w=[];const L=typeof t.options.getNextPageParam>"u";D=(l&&y[0]?l(y[0],0,y):!0)?T([],L,g[0]):Promise.resolve(P([],g[0],y[0]));for(let I=1;I<y.length;I++)D=D.then(U=>{if(l&&y[I]?l(y[I],I,y):!0){const X=L?g[I]:Ns(t.options,U);return T(U,L,X)}return Promise.resolve(P(U,g[I],y[I]))})}return D.then(L=>({pages:L,pageParams:w}))}}}}function Ns(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Aa(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class Ra{constructor(e={}){this.queryCache=e.queryCache||new ja,this.mutationCache=e.mutationCache||new Sa,this.logger=e.logger||Zt,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ot.subscribe(()=>{ot.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=lt.subscribe(()=>{lt.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[a]=je(e,r);return a.fetchStatus="fetching",this.queryCache.findAll(a).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var a;return(a=this.queryCache.find(e,r))==null?void 0:a.state.data}ensureQueryData(e,r,a){const n=qe(e,r,a),i=this.getQueryData(n.queryKey);return i?Promise.resolve(i):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:a})=>{const n=a.data;return[r,n]})}setQueryData(e,r,a){const n=this.queryCache.find(e),i=n==null?void 0:n.state.data,o=fa(r,i);if(typeof o>"u")return;const l=qe(e),d=this.defaultQueryOptions(l);return this.queryCache.build(this,d).setData(o,{...a,manual:!0})}setQueriesData(e,r,a){return Y.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,r,a)]))}getQueryState(e,r){var a;return(a=this.queryCache.find(e,r))==null?void 0:a.state}removeQueries(e,r){const[a]=je(e,r),n=this.queryCache;Y.batch(()=>{n.findAll(a).forEach(i=>{n.remove(i)})})}resetQueries(e,r,a){const[n,i]=je(e,r,a),o=this.queryCache,l={type:"active",...n};return Y.batch(()=>(o.findAll(n).forEach(d=>{d.reset()}),this.refetchQueries(l,i)))}cancelQueries(e,r,a){const[n,i={}]=je(e,r,a);typeof i.revert>"u"&&(i.revert=!0);const o=Y.batch(()=>this.queryCache.findAll(n).map(l=>l.cancel(i)));return Promise.all(o).then(he).catch(he)}invalidateQueries(e,r,a){const[n,i]=je(e,r,a);return Y.batch(()=>{var o,l;if(this.queryCache.findAll(n).forEach(m=>{m.invalidate()}),n.refetchType==="none")return Promise.resolve();const d={...n,type:(o=(l=n.refetchType)!=null?l:n.type)!=null?o:"active"};return this.refetchQueries(d,i)})}refetchQueries(e,r,a){const[n,i]=je(e,r,a),o=Y.batch(()=>this.queryCache.findAll(n).filter(d=>!d.isDisabled()).map(d=>{var m;return d.fetch(void 0,{...i,cancelRefetch:(m=i==null?void 0:i.cancelRefetch)!=null?m:!0,meta:{refetchPage:n.refetchPage}})}));let l=Promise.all(o).then(he);return i!=null&&i.throwOnError||(l=l.catch(he)),l}fetchQuery(e,r,a){const n=qe(e,r,a),i=this.defaultQueryOptions(n);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(e,r,a){return this.fetchQuery(e,r,a).then(he).catch(he)}fetchInfiniteQuery(e,r,a){const n=qe(e,r,a);return n.behavior=Ca(),this.fetchQuery(n)}prefetchInfiniteQuery(e,r,a){return this.fetchInfiniteQuery(e,r,a).then(he).catch(he)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const a=this.queryDefaults.find(n=>Ae(e)===Ae(n.queryKey));a?a.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(a=>it(e,a.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const a=this.mutationDefaults.find(n=>Ae(e)===Ae(n.mutationKey));a?a.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(a=>it(e,a.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=Wt(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Pa extends He{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Ss(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $t(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $t(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const a=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),_t(a,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();const i=this.hasListeners();i&&Cs(this.currentQuery,n,this.options,a)&&this.executeFetch(),this.updateResult(r),i&&(this.currentQuery!==n||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();i&&(this.currentQuery!==n||this.options.enabled!==a.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),a=this.createResult(r,e);return Ta(this,a,e)&&(this.currentResult=a,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),a}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(a),e[a])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),a=this.client.getQueryCache().build(this.client,r);return a.isFetchingOptimistic=!0,a.fetch().then(()=>this.createResult(a,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(he)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Qe||this.currentResult.isStale||!Mt(this.options.staleTime))return;const r=or(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Qe||this.options.enabled===!1||!Mt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ot.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const a=this.currentQuery,n=this.options,i=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,d=e!==a,m=d?e.state:this.currentQueryInitialState,h=d?this.currentResult:this.previousQueryResult,{state:p}=e;let{dataUpdatedAt:y,error:g,errorUpdatedAt:w,fetchStatus:C,status:N}=p,F=!1,P=!1,T;if(r._optimisticResults){const I=this.hasListeners(),U=!I&&Ss(e,r),re=I&&Cs(e,a,r,n);(U||re)&&(C=bt(e.options.networkMode)?"fetching":"paused",y||(N="loading")),r._optimisticResults==="isRestoring"&&(C="idle")}if(r.keepPreviousData&&!p.dataUpdatedAt&&h!=null&&h.isSuccess&&N!=="error")T=h.data,y=h.dataUpdatedAt,N=h.status,F=!0;else if(r.select&&typeof p.data<"u")if(i&&p.data===(o==null?void 0:o.data)&&r.select===this.selectFn)T=this.selectResult;else try{this.selectFn=r.select,T=r.select(p.data),T=qt(i==null?void 0:i.data,T,r),this.selectResult=T,this.selectError=null}catch(I){this.selectError=I}else T=p.data;if(typeof r.placeholderData<"u"&&typeof T>"u"&&N==="loading"){let I;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))I=i.data;else if(I=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof I<"u")try{I=r.select(I),this.selectError=null}catch(U){this.selectError=U}typeof I<"u"&&(N="success",T=qt(i==null?void 0:i.data,I,r),P=!0)}this.selectError&&(g=this.selectError,T=this.selectResult,w=Date.now(),N="error");const D=C==="fetching",M=N==="loading",L=N==="error";return{status:N,fetchStatus:C,isLoading:M,isSuccess:N==="success",isError:L,isInitialLoading:M&&D,data:T,dataUpdatedAt:y,error:g,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>m.dataUpdateCount||p.errorUpdateCount>m.errorUpdateCount,isFetching:D,isRefetching:D&&!M,isLoadingError:L&&p.dataUpdatedAt===0,isPaused:C==="paused",isPlaceholderData:P,isPreviousData:F,isRefetchError:L&&p.dataUpdatedAt!==0,isStale:Jt(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,a=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,_t(a,r))return;this.currentResult=a;const n={cache:!0},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.trackedProps.size)return!0;const d=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&d.add("error"),Object.keys(this.currentResult).some(m=>{const h=m;return this.currentResult[h]!==r[h]&&d.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!tt(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){Y.batch(()=>{if(e.onSuccess){var r,a,n,i;(r=(a=this.options).onSuccess)==null||r.call(a,this.currentResult.data),(n=(i=this.options).onSettled)==null||n.call(i,this.currentResult.data,null)}else if(e.onError){var o,l,d,m;(o=(l=this.options).onError)==null||o.call(l,this.currentResult.error),(d=(m=this.options).onSettled)==null||d.call(m,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Oa(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ss(t,e){return Oa(t,e)||t.state.dataUpdatedAt>0&&$t(t,e,e.refetchOnMount)}function $t(t,e,r){if(e.enabled!==!1){const a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&Jt(t,e)}return!1}function Cs(t,e,r,a){return r.enabled!==!1&&(t!==e||a.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Jt(t,r)}function Jt(t,e){return t.isStaleByTime(e.staleTime)}function Ta(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:!_t(t.getCurrentResult(),e)}var fr={exports:{}},pr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ie=u;function Ea(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ia=typeof Object.is=="function"?Object.is:Ea,Fa=Ie.useState,Da=Ie.useEffect,Ma=Ie.useLayoutEffect,_a=Ie.useDebugValue;function La(t,e){var r=e(),a=Fa({inst:{value:r,getSnapshot:e}}),n=a[0].inst,i=a[1];return Ma(function(){n.value=r,n.getSnapshot=e,Rt(n)&&i({inst:n})},[t,r,e]),Da(function(){return Rt(n)&&i({inst:n}),t(function(){Rt(n)&&i({inst:n})})},[t]),_a(r),r}function Rt(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ia(t,r)}catch{return!0}}function qa(t,e){return e()}var $a=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qa:La;pr.useSyncExternalStore=Ie.useSyncExternalStore!==void 0?Ie.useSyncExternalStore:$a;fr.exports=pr;var Ua=fr.exports;const Va=Ua.useSyncExternalStore,As=u.createContext(void 0),yr=u.createContext(!1);function gr(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=As),window.ReactQueryClientContext):As)}const Ba=({context:t}={})=>{const e=u.useContext(gr(t,u.useContext(yr)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Qa=({client:t,children:e,context:r,contextSharing:a=!1})=>{u.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const n=gr(r,a);return u.createElement(yr.Provider,{value:!r&&a},u.createElement(n.Provider,{value:t},e))},xr=u.createContext(!1),Ha=()=>u.useContext(xr);xr.Provider;function Ka(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const za=u.createContext(Ka()),Ga=()=>u.useContext(za);function Wa(t,e){return typeof t=="function"?t(...e):!!t}const Za=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Ja=t=>{u.useEffect(()=>{t.clearReset()},[t])},Ya=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:a})=>t.isError&&!e.isReset()&&!t.isFetching&&Wa(r,[t.error,a]),Xa=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},en=(t,e)=>t.isLoading&&t.isFetching&&!e,tn=(t,e,r)=>(t==null?void 0:t.suspense)&&en(e,r),sn=(t,e,r)=>e.fetchOptimistic(t).then(({data:a})=>{t.onSuccess==null||t.onSuccess(a),t.onSettled==null||t.onSettled(a,null)}).catch(a=>{r.clearReset(),t.onError==null||t.onError(a),t.onSettled==null||t.onSettled(void 0,a)});function rn(t,e){const r=Ba({context:t.context}),a=Ha(),n=Ga(),i=r.defaultQueryOptions(t);i._optimisticResults=a?"isRestoring":"optimistic",i.onError&&(i.onError=Y.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=Y.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=Y.batchCalls(i.onSettled)),Xa(i),Za(i,n),Ja(n);const[o]=u.useState(()=>new e(r,i)),l=o.getOptimisticResult(i);if(Va(u.useCallback(d=>{const m=a?()=>{}:o.subscribe(Y.batchCalls(d));return o.updateResult(),m},[o,a]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),u.useEffect(()=>{o.setOptions(i,{listeners:!1})},[i,o]),tn(i,l,a))throw sn(i,o,n);if(Ya({result:l,errorResetBoundary:n,useErrorBoundary:i.useErrorBoundary,query:o.getCurrentQuery()}))throw l.error;return i.notifyOnChangeProps?l:o.trackResult(l)}function Ut(t,e,r){const a=qe(t,e,r);return rn(a,Pa)}function an(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Vt(t,e)}function Vt(t,e){return Vt=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Vt(t,e)}var Z={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},nn={rel:["amphtml","canonical","alternate"]},on={type:["application/ld+json"]},ln={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]};Object.keys(Z).map(function(t){return Z[t]});var ct={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.keys(ct).reduce(function(t,e){return t[ct[e]]=e,t},{});var cn=function(t){return Array.isArray(t)?t.join(""):t},Pt=function(t,e){return Array.isArray(t)?t.reduce(function(r,a){return function(n,i){for(var o=Object.keys(n),l=0;l<o.length;l+=1)if(i[o[l]]&&i[o[l]].includes(n[o[l]]))return!0;return!1}(a,e)?r.priority.push(a):r.default.push(a),r},{priority:[],default:[]}):{default:t}},dn=[Z.NOSCRIPT,Z.SCRIPT,Z.STYLE],Ot=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Rs=function(t){return Object.keys(t).reduce(function(e,r){var a=t[r]!==void 0?r+'="'+t[r]+'"':""+r;return e?e+" "+a:a},"")},Ps=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(r,a){return r[ct[a]||a]=t[a],r},e)},st=function(t,e){return e.map(function(r,a){var n,i=((n={key:a})["data-rh"]=!0,n);return Object.keys(r).forEach(function(o){var l=ct[o]||o;l==="innerHTML"||l==="cssText"?i.dangerouslySetInnerHTML={__html:r.innerHTML||r.cssText}:i[l]=r[o]}),ee.createElement(t,i)})},de=function(t,e,r){switch(t){case Z.TITLE:return{toComponent:function(){return n=e.titleAttributes,(i={key:a=e.title})["data-rh"]=!0,o=Ps(n,i),[ee.createElement(Z.TITLE,o,a)];var a,n,i,o},toString:function(){return function(a,n,i,o){var l=Rs(i),d=cn(n);return l?"<"+a+' data-rh="true" '+l+">"+Ot(d,o)+"</"+a+">":"<"+a+' data-rh="true">'+Ot(d,o)+"</"+a+">"}(t,e.title,e.titleAttributes,r)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Ps(e)},toString:function(){return Rs(e)}};default:return{toComponent:function(){return st(t,e)},toString:function(){return function(a,n,i){return n.reduce(function(o,l){var d=Object.keys(l).filter(function(p){return!(p==="innerHTML"||p==="cssText")}).reduce(function(p,y){var g=l[y]===void 0?y:y+'="'+Ot(l[y],i)+'"';return p?p+" "+g:g},""),m=l.innerHTML||l.cssText||"",h=dn.indexOf(a)===-1;return o+"<"+a+' data-rh="true" '+d+(h?"/>":">"+m+"</"+a+">")},"")}(t,e,r)}}}},un=function(t){var e=t.baseTag,r=t.bodyAttributes,a=t.encode,n=t.htmlAttributes,i=t.noscriptTags,o=t.styleTags,l=t.title,d=l===void 0?"":l,m=t.titleAttributes,h=t.linkTags,p=t.metaTags,y=t.scriptTags,g={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var w=function(C){var N=C.linkTags,F=C.scriptTags,P=C.encode,T=Pt(C.metaTags,ln),D=Pt(N,nn),M=Pt(F,on);return{priorityMethods:{toComponent:function(){return[].concat(st(Z.META,T.priority),st(Z.LINK,D.priority),st(Z.SCRIPT,M.priority))},toString:function(){return de(Z.META,T.priority,P)+" "+de(Z.LINK,D.priority,P)+" "+de(Z.SCRIPT,M.priority,P)}},metaTags:T.default,linkTags:D.default,scriptTags:M.default}}(t);g=w.priorityMethods,h=w.linkTags,p=w.metaTags,y=w.scriptTags}return{priority:g,base:de(Z.BASE,e,a),bodyAttributes:de("bodyAttributes",r,a),htmlAttributes:de("htmlAttributes",n,a),link:de(Z.LINK,h,a),meta:de(Z.META,p,a),noscript:de(Z.NOSCRIPT,i,a),script:de(Z.SCRIPT,y,a),style:de(Z.STYLE,o,a),title:de(Z.TITLE,{title:d,titleAttributes:m},a)}},Ye=[],hn=function(t,e){var r=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(a){r.context.helmet=a},helmetInstances:{get:function(){return r.canUseDOM?Ye:r.instances},add:function(a){(r.canUseDOM?Ye:r.instances).push(a)},remove:function(a){var n=(r.canUseDOM?Ye:r.instances).indexOf(a);(r.canUseDOM?Ye:r.instances).splice(n,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=un({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},mn=ee.createContext({}),fn=$.shape({setHelmet:$.func,helmetInstances:$.shape({get:$.func,add:$.func,remove:$.func})}),pn=typeof document<"u",$e=function(t){function e(r){var a;return(a=t.call(this,r)||this).helmetData=new hn(a.props.context,e.canUseDOM),a}return an(e,t),e.prototype.render=function(){return ee.createElement(mn.Provider,{value:this.helmetData.value},this.props.children)},e}(u.Component);$e.canUseDOM=pn,$e.propTypes={context:$.shape({helmet:$.shape()}),children:$.node.isRequired},$e.defaultProps={context:{}},$e.displayName="HelmetProvider";fn.isRequired;$.object,$.object,$.oneOfType([$.arrayOf($.node),$.node]),$.string,$.bool,$.bool,$.object,$.arrayOf($.object),$.arrayOf($.object),$.arrayOf($.object),$.func,$.arrayOf($.object),$.arrayOf($.object),$.string,$.object,$.string,$.bool,$.object;let yn={data:""},gn=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||yn,xn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bn=/\/\*[^]*?\*\/|  +/g,Os=/\n+/g,ke=(t,e)=>{let r="",a="",n="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":a+=i[1]=="f"?ke(o,i):i+"{"+ke(o,i[1]=="k"?"":e)+"}":typeof o=="object"?a+=ke(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ke.p?ke.p(i,o):i+":"+o+";")}return r+(e&&n?e+"{"+n+"}":n)+a},xe={},br=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+br(t[r]);return e}return t},vn=(t,e,r,a,n)=>{let i=br(t),o=xe[i]||(xe[i]=(d=>{let m=0,h=11;for(;m<d.length;)h=101*h+d.charCodeAt(m++)>>>0;return"go"+h})(i));if(!xe[o]){let d=i!==t?t:(m=>{let h,p,y=[{}];for(;h=xn.exec(m.replace(bn,""));)h[4]?y.shift():h[3]?(p=h[3].replace(Os," ").trim(),y.unshift(y[0][p]=y[0][p]||{})):y[0][h[1]]=h[2].replace(Os," ").trim();return y[0]})(t);xe[o]=ke(n?{["@keyframes "+o]:d}:d,r?"":"."+o)}let l=r&&xe.g?xe.g:null;return r&&(xe.g=xe[o]),((d,m,h,p)=>{p?m.data=m.data.replace(p,d):m.data.indexOf(d)===-1&&(m.data=h?d+m.data:m.data+d)})(xe[o],e,a,l),o},wn=(t,e,r)=>t.reduce((a,n,i)=>{let o=e[i];if(o&&o.call){let l=o(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":ke(l,""):l===!1?"":l}return a+n+(o??"")},"");function vt(t){let e=this||{},r=t.call?t(e.p):t;return vn(r.unshift?r.raw?wn(r,[].slice.call(arguments,1),e.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(e.p):n),{}):r,gn(e.target),e.g,e.o,e.k)}let vr,Bt,Qt;vt.bind({g:1});let ve=vt.bind({k:1});function jn(t,e,r,a){ke.p=e,vr=t,Bt=r,Qt=a}function Se(t,e){let r=this||{};return function(){let a=arguments;function n(i,o){let l=Object.assign({},i),d=l.className||n.className;r.p=Object.assign({theme:Bt&&Bt()},l),r.o=/ *go\d+/.test(d),l.className=vt.apply(r,a)+(d?" "+d:""),e&&(l.ref=o);let m=t;return t[0]&&(m=l.as||t,delete l.as),Qt&&m[0]&&Qt(l),vr(m,l)}return e?e(n):n}}var kn=t=>typeof t=="function",dt=(t,e)=>kn(t)?t(e):t,Nn=(()=>{let t=0;return()=>(++t).toString()})(),wr=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Sn=20,Yt="default",jr=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:a}=e;return jr(t,{type:t.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},rt=[],kr={toasts:[],pausedAt:void 0,settings:{toastLimit:Sn}},ye={},Nr=(t,e=Yt)=>{ye[e]=jr(ye[e]||kr,t),rt.forEach(([r,a])=>{r===e&&a(ye[e])})},Sr=t=>Object.keys(ye).forEach(e=>Nr(t,e)),Cn=t=>Object.keys(ye).find(e=>ye[e].toasts.some(r=>r.id===t)),wt=(t=Yt)=>e=>{Nr(e,t)},An={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Rn=(t={},e=Yt)=>{let[r,a]=u.useState(ye[e]||kr),n=u.useRef(ye[e]);u.useEffect(()=>(n.current!==ye[e]&&a(ye[e]),rt.push([e,a]),()=>{let o=rt.findIndex(([l])=>l===e);o>-1&&rt.splice(o,1)}),[e]);let i=r.toasts.map(o=>{var l,d,m;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((l=t[o.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((d=t[o.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||An[o.type],style:{...t.style,...(m=t[o.type])==null?void 0:m.style,...o.style}}});return{...r,toasts:i}},Pn=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Nn()}),Ke=t=>(e,r)=>{let a=Pn(e,t,r);return wt(a.toasterId||Cn(a.id))({type:2,toast:a}),a.id},te=(t,e)=>Ke("blank")(t,e);te.error=Ke("error");te.success=Ke("success");te.loading=Ke("loading");te.custom=Ke("custom");te.dismiss=(t,e)=>{let r={type:3,toastId:t};e?wt(e)(r):Sr(r)};te.dismissAll=t=>te.dismiss(void 0,t);te.remove=(t,e)=>{let r={type:4,toastId:t};e?wt(e)(r):Sr(r)};te.removeAll=t=>te.remove(void 0,t);te.promise=(t,e,r)=>{let a=te.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=e.success?dt(e.success,n):void 0;return i?te.success(i,{id:a,...r,...r==null?void 0:r.success}):te.dismiss(a),n}).catch(n=>{let i=e.error?dt(e.error,n):void 0;i?te.error(i,{id:a,...r,...r==null?void 0:r.error}):te.dismiss(a)}),t};var On=1e3,Tn=(t,e="default")=>{let{toasts:r,pausedAt:a}=Rn(t,e),n=u.useRef(new Map).current,i=u.useCallback((p,y=On)=>{if(n.has(p))return;let g=setTimeout(()=>{n.delete(p),o({type:4,toastId:p})},y);n.set(p,g)},[]);u.useEffect(()=>{if(a)return;let p=Date.now(),y=r.map(g=>{if(g.duration===1/0)return;let w=(g.duration||0)+g.pauseDuration-(p-g.createdAt);if(w<0){g.visible&&te.dismiss(g.id);return}return setTimeout(()=>te.dismiss(g.id,e),w)});return()=>{y.forEach(g=>g&&clearTimeout(g))}},[r,a,e]);let o=u.useCallback(wt(e),[e]),l=u.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=u.useCallback((p,y)=>{o({type:1,toast:{id:p,height:y}})},[o]),m=u.useCallback(()=>{a&&o({type:6,time:Date.now()})},[a,o]),h=u.useCallback((p,y)=>{let{reverseOrder:g=!1,gutter:w=8,defaultPosition:C}=y||{},N=r.filter(T=>(T.position||C)===(p.position||C)&&T.height),F=N.findIndex(T=>T.id===p.id),P=N.filter((T,D)=>D<F&&T.visible).length;return N.filter(T=>T.visible).slice(...g?[P+1]:[0,P]).reduce((T,D)=>T+(D.height||0)+w,0)},[r]);return u.useEffect(()=>{r.forEach(p=>{if(p.dismissed)i(p.id,p.removeDelay);else{let y=n.get(p.id);y&&(clearTimeout(y),n.delete(p.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:m,calculateOffset:h}}},En=ve`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,In=ve`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fn=ve`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Dn=Se("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${En} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${In} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Fn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Mn=ve`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_n=Se("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Mn} 1s linear infinite;
`,Ln=ve`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qn=ve`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$n=Se("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ln} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qn} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Un=Se("div")`
  position: absolute;
`,Vn=Se("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Bn=ve`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Qn=Se("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Bn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Hn=({toast:t})=>{let{icon:e,type:r,iconTheme:a}=t;return e!==void 0?typeof e=="string"?u.createElement(Qn,null,e):e:r==="blank"?null:u.createElement(Vn,null,u.createElement(_n,{...a}),r!=="loading"&&u.createElement(Un,null,r==="error"?u.createElement(Dn,{...a}):u.createElement($n,{...a})))},Kn=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zn=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Gn="0%{opacity:0;} 100%{opacity:1;}",Wn="0%{opacity:1;} 100%{opacity:0;}",Zn=Se("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jn=Se("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Yn=(t,e)=>{let r=t.includes("top")?1:-1,[a,n]=wr()?[Gn,Wn]:[Kn(r),zn(r)];return{animation:e?`${ve(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ve(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Xn=u.memo(({toast:t,position:e,style:r,children:a})=>{let n=t.height?Yn(t.position||e||"top-center",t.visible):{opacity:0},i=u.createElement(Hn,{toast:t}),o=u.createElement(Jn,{...t.ariaProps},dt(t.message,t));return u.createElement(Zn,{className:t.className,style:{...n,...r,...t.style}},typeof a=="function"?a({icon:i,message:o}):u.createElement(u.Fragment,null,i,o))});jn(u.createElement);var ei=({id:t,className:e,style:r,onHeightUpdate:a,children:n})=>{let i=u.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;a(t,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return u.createElement("div",{ref:i,className:e,style:r},n)},ti=(t,e)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...a,...n}},si=vt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xe=16,ri=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:a,children:n,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:d,handlers:m}=Tn(r,i);return u.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Xe,left:Xe,right:Xe,bottom:Xe,pointerEvents:"none",...o},className:l,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(h=>{let p=h.position||e,y=m.calculateOffset(h,{reverseOrder:t,gutter:a,defaultPosition:e}),g=ti(p,y);return u.createElement(ei,{id:h.id,key:h.id,onHeightUpdate:m.updateHeight,className:h.visible?si:"",style:g},h.type==="custom"?dt(h.message,h):n?n(h):u.createElement(Xn,{toast:h,position:p}))}))},K=te;const Cr=u.createContext(void 0);function ze(){const t=u.useContext(Cr);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function ai({children:t}){const[e,r]=u.useState(null),[a,n]=u.useState(null),[i,o]=u.useState(!1),l=sr(),y={user:e,session:a,loading:i,signIn:async(g,w)=>{try{o(!0);const C={id:"1",email:g,name:"Demo User",role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},N={access_token:"demo-token",refresh_token:"demo-refresh",expires_at:Date.now()+36e5,user:C};r(C),n(N),K.success("Signed in successfully!"),l("/dashboard")}catch(C){const N=C instanceof Error?C.message:"Failed to sign in";throw K.error(N),C}finally{o(!1)}},signUp:async(g,w,C)=>{try{o(!0),await new Promise(N=>setTimeout(N,1e3)),console.log("Demo signup for:",{email:g,name:C,passwordLength:w.length}),K.success("Account created! Please sign in."),l("/signin")}catch(N){console.error("Error in signUp:",N);const F=N instanceof Error?N.message:"Failed to create account";throw K.error(F),N}finally{o(!1)}},signOut:async()=>{try{o(!0),r(null),n(null),K.success("Signed out successfully"),l("/signin")}catch(g){const w=g instanceof Error?g.message:"Failed to sign out";throw K.error(w),g}finally{o(!1)}},isAuthenticated:!!(e&&a)};return s.jsx(Cr.Provider,{value:y,children:t})}const Ar=u.createContext(void 0);function ni(){const t=u.useContext(Ar);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function ii({children:t,defaultTheme:e="system",storageKey:r="genai-crm-theme"}){const[a,n]=u.useState(()=>localStorage.getItem(r)||e),[i,o]=u.useState(()=>{const g=localStorage.getItem(`${r}-config`);if(g)try{return JSON.parse(g)}catch{}return{theme:a,primaryColor:"#3b82f6",accentColor:"#8b5cf6",fontFamily:"Inter"}});u.useEffect(()=>{const g=window.document.documentElement;if(g.classList.remove("light","dark"),a==="system"){const w=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";g.classList.add(w);return}g.classList.add(a)},[a]),u.useEffect(()=>{const g=window.document.documentElement;g.style.setProperty("--primary-color",i.primaryColor),g.style.setProperty("--accent-color",i.accentColor),g.style.setProperty("--font-family",i.fontFamily)},[i]),u.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)"),w=()=>{if(a==="system"){const C=window.document.documentElement;C.classList.remove("light","dark"),C.classList.add(g.matches?"dark":"light")}};return g.addEventListener("change",w),()=>g.removeEventListener("change",w)},[a]);const l=g=>{localStorage.setItem(r,g),n(g),o(w=>({...w,theme:g}))},d=g=>{const w={...i,...g};o(w),localStorage.setItem(`${r}-config`,JSON.stringify(w))},m=a==="dark"||a==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches,h=a==="light"||a==="system"&&!window.matchMedia("(prefers-color-scheme: dark)").matches,y={theme:a,themeConfig:i,setTheme:l,updateThemeConfig:d,isDark:m,isLight:h,isSystem:a==="system"};return s.jsx(Ar.Provider,{value:y,children:t})}function oi({children:t}){const{isAuthenticated:e,loading:r}=ze(),a=ta();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"loading-spinner h-8 w-8"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]})}):e?s.jsx(s.Fragment,{children:t}):s.jsx(nt,{to:"/signin",state:{from:a},replace:!0})}function Ts({children:t}){const{isAuthenticated:e,loading:r}=ze();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"loading-spinner h-8 w-8"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]})}):e?s.jsx(nt,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:t})}var li={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ci=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),di=(t,e)=>{const r=u.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...d},m)=>u.createElement("svg",{ref:m,...li,width:n,height:n,stroke:a,strokeWidth:o?Number(i)*24/Number(n):i,className:`lucide lucide-${ci(t)}`,...d},[...e.map(([h,p])=>u.createElement(h,p)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${t}`,r};var _=di;const ui=_("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ue=_("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),hi=_("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mi=_("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Me=_("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Xt=_("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),Fe=_("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),ut=_("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),fi=_("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ht=_("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ge=_("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Es=_("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),pi=_("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),yi=_("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Pe=_("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),es=_("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),ts=_("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),gi=_("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xi=_("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),bi=_("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),vi=_("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),wi=_("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),ji=_("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ki=_("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ni=_("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Rr=_("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Pr=_("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Tt=_("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),mt=_("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Is=_("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Et=_("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Si=_("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),Ci=_("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Or=_("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ai=_("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ri=_("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Pi=_("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Tr=_("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ht=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Oi=[{name:"Dashboard",href:"/",icon:gi},{name:"AI Assistant",href:"/ai-chat",icon:Rr,badge:"New"},{name:"Analytics",href:"/analytics",icon:mi},{name:"Customers",href:"/customers",icon:Pi},{name:"Repositories",href:"/repositories",icon:Ge,badge:"New"},{name:"SOPs",href:"/sops",icon:Pe},{name:"Settings",href:"/settings",icon:mt}];function Fs({onClose:t}){return s.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(Fe,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:"ml-3 text-xl font-bold text-gray-900 dark:text-white",children:"Optimus AI"})]}),t&&s.jsxs("button",{type:"button",className:"ml-auto lg:hidden rounded-md p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:t,children:[s.jsx("span",{className:"sr-only",children:"Close sidebar"}),s.jsx(Ht,{className:"h-6 w-6"})]})]}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:Oi.map((e,r)=>s.jsx(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},children:s.jsxs(sa,{to:e.href,className:({isActive:a})=>`group flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-200 ${a?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[s.jsx(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),e.name,e.badge&&s.jsx("span",{className:"ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:e.badge})]})},e.name))}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center p-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-xl",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center",children:s.jsx(Fe,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"AI Status"}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[s.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Online & Ready"]})]})]})})]})}function Ti({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Ei=u.forwardRef(Ti),Ii=Ei;function Fi({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Di=u.forwardRef(Fi),Mi=Di;function _i({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Li=u.forwardRef(_i),ss=Li;function qi({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $i=u.forwardRef(qi),Ui=$i;function Vi({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Bi=u.forwardRef(Vi),Qi=Bi;function Hi({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Ki=u.forwardRef(Hi),zi=Ki;function Gi({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const Wi=u.forwardRef(Gi),Ds=Wi;function Zi({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const Ji=u.forwardRef(Zi),Yi=Ji;function Xi({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25M9 16.5v.75m3-3v3M15 12v5.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const eo=u.forwardRef(Xi),Er=eo;function to({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const so=u.forwardRef(to),ro=so;function ao({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}const no=u.forwardRef(ao),io=no;function oo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const lo=u.forwardRef(oo),co=lo;function uo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const ho=u.forwardRef(uo),Ms=ho;function mo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const fo=u.forwardRef(mo),po=fo;function yo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const go=u.forwardRef(yo),_s=go;function xo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const bo=u.forwardRef(xo),Ir=bo;function vo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const wo=u.forwardRef(vo),jo=wo;function ko({onMenuClick:t}){var p,y;const{user:e,signOut:r}=ze(),{setTheme:a,isDark:n,isLight:i,isSystem:o}=ni(),[l,d]=u.useState(""),m=async()=>{try{await r()}catch(g){console.error("Sign out error:",g)}},h=[{name:"Light",value:"light",icon:_s,active:i},{name:"Dark",value:"dark",icon:Ms,active:n},{name:"System",value:"system",icon:Ds,active:o}];return s.jsxs("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("button",{type:"button",className:"px-4 border-r border-gray-200 dark:border-gray-700 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:t,children:[s.jsx("span",{className:"sr-only",children:"Open sidebar"}),s.jsx(Ii,{className:"h-6 w-6","aria-hidden":"true"})]}),s.jsxs("div",{className:"flex-1 px-4 flex justify-between",children:[s.jsx("div",{className:"flex-1 flex",children:s.jsxs("form",{className:"w-full flex md:ml-0",onSubmit:g=>g.preventDefault(),children:[s.jsx("label",{htmlFor:"search-field",className:"sr-only",children:"Search"}),s.jsxs("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none",children:s.jsx(co,{className:"h-5 w-5","aria-hidden":"true"})}),s.jsx("input",{id:"search-field",className:"block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent bg-transparent",placeholder:"Search customers, interactions...",type:"search",value:l,onChange:g=>d(g.target.value)})]})]})}),s.jsxs("div",{className:"ml-4 flex items-center md:ml-6",children:[s.jsxs(ne,{as:"div",className:"relative",children:[s.jsx("div",{children:s.jsxs(ne.Button,{className:"p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("span",{className:"sr-only",children:"Change theme"}),n&&s.jsx(Ms,{className:"h-6 w-6","aria-hidden":"true"}),i&&s.jsx(_s,{className:"h-6 w-6","aria-hidden":"true"}),o&&s.jsx(Ds,{className:"h-6 w-6","aria-hidden":"true"})]})}),s.jsx(Dt,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsx(ne.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none",children:h.map(g=>s.jsx(ne.Item,{children:({active:w})=>s.jsxs("button",{onClick:()=>a(g.value),className:`${w?"bg-gray-100 dark:bg-gray-700":""} ${g.active?"text-blue-600":"text-gray-700 dark:text-gray-300"} group flex items-center px-4 py-2 text-sm w-full text-left`,children:[s.jsx(g.icon,{className:"mr-3 h-5 w-5","aria-hidden":"true"}),g.name]})},g.value))})})]}),s.jsxs("button",{type:"button",className:"ml-3 p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("span",{className:"sr-only",children:"View notifications"}),s.jsx(Mi,{className:"h-6 w-6","aria-hidden":"true"})]}),s.jsxs(ne,{as:"div",className:"ml-3 relative",children:[s.jsx("div",{children:s.jsxs(ne.Button,{className:"max-w-xs bg-white dark:bg-gray-800 flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx("span",{className:"sr-only",children:"Open user menu"}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-medium text-sm",children:((p=e==null?void 0:e.name)==null?void 0:p.charAt(0))||((y=e==null?void 0:e.email)==null?void 0:y.charAt(0))||"U"})})]})}),s.jsx(Dt,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsxs(ne.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:(e==null?void 0:e.name)||"User"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e==null?void 0:e.email})]}),s.jsx(ne.Item,{children:({active:g})=>s.jsx("a",{href:"#",className:`${g?"bg-gray-100 dark:bg-gray-700":""} block px-4 py-2 text-sm text-gray-700 dark:text-gray-300`,children:"Your Profile"})}),s.jsx(ne.Item,{children:({active:g})=>s.jsx("a",{href:"#",className:`${g?"bg-gray-100 dark:bg-gray-700":""} block px-4 py-2 text-sm text-gray-700 dark:text-gray-300`,children:"Settings"})}),s.jsx(ne.Item,{children:({active:g})=>s.jsx("button",{onClick:m,className:`${g?"bg-gray-100 dark:bg-gray-700":""} block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300`,children:"Sign out"})})]})})]})]})]})]})}function No(){const[t,e]=u.useState(!1);return s.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:s.jsx("div",{className:"flex flex-col w-64",children:s.jsx(Fs,{})})}),s.jsx(ar,{children:t&&s.jsxs("div",{className:"fixed inset-0 flex z-40 lg:hidden",children:[s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>e(!1)}),s.jsx(B.div,{initial:{x:-256},animate:{x:0},exit:{x:-256},transition:{duration:.3,ease:"easeInOut"},className:"relative flex-1 flex flex-col max-w-xs w-full bg-white dark:bg-gray-800 shadow-xl",children:s.jsx(Fs,{onClose:()=>e(!1)})})]})}),s.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[s.jsx(ko,{onMenuClick:()=>e(!0)}),s.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none bg-gray-50 dark:bg-gray-900",children:s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx(ra,{})})})})]})]})}function So(){const{signIn:t}=ze(),[e,r]=u.useState(!1),[a,n]=u.useState({data:{email:"",password:""},errors:{},isSubmitting:!1,isValid:!1}),i=()=>{const d={};return a.data.email?/\S+@\S+\.\S+/.test(a.data.email)||(d.email="Email is invalid"):d.email="Email is required",a.data.password?a.data.password.length<6&&(d.password="Password must be at least 6 characters"):d.password="Password is required",n(m=>({...m,errors:d,isValid:Object.keys(d).length===0})),Object.keys(d).length===0},o=(d,m)=>{n(h=>{const p={...h.data,[d]:m},y={};return p.email?/\S+@\S+\.\S+/.test(p.email)||(y.email="Email is invalid"):y.email="Email is required",p.password?p.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",{...h,data:p,errors:y,isValid:Object.keys(y).length===0}})},l=async d=>{if(d.preventDefault(),!!i()){n(m=>({...m,isSubmitting:!0}));try{await t(a.data.email,a.data.password)}catch(m){console.error("Sign in error:",m)}finally{n(m=>({...m,isSubmitting:!1}))}}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),s.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse",style:{animationDelay:"4s"}})]}),s.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),s.jsx("div",{className:"relative flex items-center justify-center min-h-screen px-4",children:s.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"w-full max-w-md",children:s.jsxs("div",{className:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl p-8 shadow-2xl",children:[s.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(Fe,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Optimus AI Assistant"}),s.jsx("p",{className:"text-white/70",children:"Sign in to access your AI-powered customer service dashboard"})]}),(a.errors.email||a.errors.password)&&s.jsx(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-500/20 border border-red-500/30 text-red-200 px-4 py-3 rounded-lg mb-6",children:a.errors.email||a.errors.password}),s.jsxs(B.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.6},className:"space-y-6",onSubmit:l,children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",children:s.jsx(ki,{className:"w-5 h-5"})}),s.jsx("input",{type:"email",value:a.data.email,onChange:d=>o("email",d.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Email address",required:!0})]}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",children:s.jsx(ji,{className:"w-5 h-5"})}),s.jsx("input",{type:e?"text":"password",value:a.data.password,onChange:d=>o("password",d.target.value),className:"w-full pl-12 pr-12 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",placeholder:"Password",required:!0}),s.jsx("button",{type:"button",onClick:()=>r(!e),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-colors",children:e?s.jsx(pi,{className:"w-5 h-5"}):s.jsx(yi,{className:"w-5 h-5"})})]}),s.jsx(B.button,{type:"submit",disabled:a.isSubmitting||!a.isValid,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center space-x-2",children:a.isSubmitting?s.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Sign In"}),s.jsx(Fe,{className:"w-5 h-5"})]})})]}),s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.6},className:"mt-6 text-center",children:s.jsxs("p",{className:"text-white/70",children:["Don't have an account?"," ",s.jsx(rr,{to:"/signup",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign up now"})]})})]})})})]})}function Co(){const{signUp:t}=ze(),[e,r]=u.useState({data:{name:"",email:"",password:"",confirmPassword:""},errors:{},isSubmitting:!1,isValid:!1}),a=(o,l)=>{r(d=>{const m={...d.data,[o]:l},h={};return m.name?m.name.length<2&&(h.name="Name must be at least 2 characters"):h.name="Name is required",m.email?/\S+@\S+\.\S+/.test(m.email)||(h.email="Email is invalid"):h.email="Email is required",m.password?m.password.length<8?h.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(m.password)||(h.password="Password must contain uppercase, lowercase, and number"):h.password="Password is required",m.confirmPassword?m.password!==m.confirmPassword&&(h.confirmPassword="Passwords do not match"):h.confirmPassword="Please confirm your password",{...d,data:m,errors:h,isValid:Object.keys(h).length===0}})},n=()=>{const o={};return e.data.name?e.data.name.length<2&&(o.name="Name must be at least 2 characters"):o.name="Name is required",e.data.email?/\S+@\S+\.\S+/.test(e.data.email)||(o.email="Email is invalid"):o.email="Email is required",e.data.password?e.data.password.length<8?o.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(e.data.password)||(o.password="Password must contain uppercase, lowercase, and number"):o.password="Password is required",e.data.confirmPassword?e.data.password!==e.data.confirmPassword&&(o.confirmPassword="Passwords do not match"):o.confirmPassword="Please confirm your password",r(l=>({...l,errors:o,isValid:Object.keys(o).length===0})),Object.keys(o).length===0},i=async o=>{if(o.preventDefault(),!!n()){r(l=>({...l,isSubmitting:!0}));try{await t(e.data.email,e.data.password,e.data.name)}catch(l){console.error("Sign up error:",l)}finally{r(l=>({...l,isSubmitting:!1}))}}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-600",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"AI"})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900 dark:text-white",children:"Create your account"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",s.jsx(rr,{to:"/signin",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"label",children:"Full name"}),s.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"input",placeholder:"Enter your full name",value:e.data.name,onChange:o=>a("name",o.target.value)}),e.errors.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:e.errors.name})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"label",children:"Email address"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input",placeholder:"Enter your email",value:e.data.email,onChange:o=>a("email",o.target.value)}),e.errors.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:e.errors.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"input",placeholder:"Create a password",value:e.data.password,onChange:o=>a("password",o.target.value)}),e.errors.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:e.errors.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm password"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"input",placeholder:"Confirm your password",value:e.data.confirmPassword,onChange:o=>a("confirmPassword",o.target.value)}),e.errors.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:e.errors.confirmPassword})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",defaultChecked:!0}),s.jsxs("label",{htmlFor:"agree-terms",className:"ml-2 block text-sm text-gray-900 dark:text-gray-300",children:["I agree to the"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:e.isSubmitting||!e.isValid,className:"btn-primary w-full btn-md",children:e.isSubmitting?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"loading-spinner mr-2"}),"Creating account..."]}):"Create account"})})]})]})})}const Ls={}.VITE_SUPABASE_URL,qs={}.VITE_SUPABASE_ANON_KEY,ue=Ls&&qs?oa(Ls,qs):null,Ao={}.VITE_API_BASE_URL||"http://localhost:3001/api";class Ro{async request(e,r={}){let a=null;if(ue)try{const{data:o}=await ue.auth.getSession();a=o.session}catch(o){console.warn("Supabase not available, continuing without auth:",o)}const n={headers:{"Content-Type":"application/json",...(a==null?void 0:a.access_token)&&{Authorization:`Bearer ${a.access_token}`},...r.headers},...r},i=await fetch(`${Ao}${e}`,n);if(!i.ok){if(i.status===401)throw ue&&(await ue.auth.signOut(),window.location.href="/auth/signin"),new Error("Unauthorized");let o=`HTTP ${i.status}`;try{const l=await i.json();o=l.message||l.error||o}catch{}throw new Error(o)}return i.json()}async signIn(e,r){if(!ue)throw new Error("Authentication not available - Supabase not configured");const{data:a,error:n}=await ue.auth.signInWithPassword({email:e,password:r});if(n)throw new Error(n.message);return{success:!0,data:{user:a.user,session:a.session},timestamp:new Date().toISOString()}}async signUp(e,r,a){if(!ue)throw new Error("Authentication not available - Supabase not configured");const{data:n,error:i}=await ue.auth.signUp({email:e,password:r,options:{data:{name:a}}});if(i)throw new Error(i.message);return{success:!0,data:{user:n.user},timestamp:new Date().toISOString()}}async signOut(){ue&&await ue.auth.signOut()}async getCurrentUser(){if(!ue)return null;try{const{data:{user:e}}=await ue.auth.getUser();return e}catch(e){return console.warn("Could not get current user:",e),null}}async getDashboardMetrics(e,r,a){const n=new URLSearchParams;return e&&n.append("start_date",e),r&&n.append("end_date",r),a&&n.append("agent_id",a),this.request(`/analytics/enhanced/dashboard/comprehensive?${n}`)}async getRealTimeMetrics(){return this.request("/analytics/enhanced/realtime")}async getMetricHistory(e,r,a,n="day"){const i=new URLSearchParams({start_date:r,end_date:a,granularity:n});return this.request(`/analytics/enhanced/metrics/${e}/history?${i}`)}async getCustomers(e=1,r=25,a){const n=new URLSearchParams({page:e.toString(),limit:r.toString()});return a&&n.append("search",a),this.request(`/customers?${n}`)}async getCustomer(e){return this.request(`/customers/${e}`)}async getCustomerAnalytics(e,r,a){const n=new URLSearchParams;return r&&n.append("start_date",r),a&&n.append("end_date",a),this.request(`/analytics/enhanced/customer/${e}?${n}`)}async createCustomer(e){return this.request("/customers",{method:"POST",body:JSON.stringify(e)})}async updateCustomer(e,r){return this.request(`/customers/${e}`,{method:"PUT",body:JSON.stringify(r)})}async getInteractions(e=1,r=25,a){const n=new URLSearchParams({page:e.toString(),limit:r.toString()});return a&&n.append("customer_id",a),this.request(`/interactions?${n}`)}async createInteraction(e){return this.request("/interactions",{method:"POST",body:JSON.stringify(e)})}async processAIQuery(e){return this.request("/ai/query",{method:"POST",body:JSON.stringify(e)})}async generateSuggestions(e,r,a){return this.request("/ai/suggestions",{method:"POST",body:JSON.stringify({query:e,interaction_type:r,context:a})})}async startConversation(e,r){return this.request("/ai/enhanced/conversation/start",{method:"POST",body:JSON.stringify({customer_id:e,initial_message:r})})}async getConversation(e){return this.request(`/ai/enhanced/conversation/${e}`)}async addConversationTurn(e,r,a,n){return this.request(`/ai/enhanced/conversation/${e}/turn`,{method:"POST",body:JSON.stringify({role:r,content:a,metadata:n})})}async getActiveConversations(){return this.request("/ai/enhanced/conversations/active")}async generateExecutiveSummary(e,r,a){return this.request("/analytics/enhanced/reports/executive-summary",{method:"POST",body:JSON.stringify({start_date:e,end_date:r,agent_id:a})})}async generateDetailedReport(e,r,a,n){return this.request("/analytics/enhanced/reports/detailed",{method:"POST",body:JSON.stringify({report_type:e,start_date:r,end_date:a,filters:n})})}async exportReport(e,r,a){return this.request(`/analytics/enhanced/reports/${e}/export`,{method:"POST",body:JSON.stringify({format:r,options:a})})}async getScheduledReports(){return this.request("/analytics/enhanced/reports/scheduled")}async scheduleReport(e){return this.request("/analytics/enhanced/reports/schedule",{method:"POST",body:JSON.stringify(e)})}async getActiveAlerts(){return this.request("/analytics/enhanced/alerts/active")}async createAlert(e){return this.request("/analytics/enhanced/alerts/create",{method:"POST",body:JSON.stringify(e)})}async updateAlert(e,r){return this.request(`/analytics/enhanced/alerts/${e}`,{method:"PUT",body:JSON.stringify(r)})}async deleteAlert(e){return this.request(`/analytics/enhanced/alerts/${e}`,{method:"DELETE"})}async getChartData(e,r,a,n){const i=new URLSearchParams;return r&&i.append("start_date",r),a&&i.append("end_date",a),n&&i.append("agent_id",n),this.request(`/analytics/enhanced/charts/${e}?${i}`)}async getVisualizationConfig(){return this.request("/analytics/enhanced/visualizations/config")}async recordMetric(e,r,a,n){return this.request("/analytics/enhanced/metrics/record",{method:"POST",body:JSON.stringify({metric_name:e,value:r,dimensions:a,customer_id:n})})}async getConfluenceSpaces(){return this.request("/confluence/spaces")}async searchConfluencePages(e,r,a){const n=new URLSearchParams({query:e});return r&&n.append("spaceKey",r),a&&n.append("limit",a.toString()),this.request(`/confluence/search?${n}`)}async searchSOPs(e,r){const a=new URLSearchParams({query:e});return r&&a.append("limit",r.toString()),this.request(`/confluence/sops/search?${a}`)}async getConfluencePage(e){return this.request(`/confluence/pages/${e}`)}async getConfluencePagesBySpace(e,r,a){const n=new URLSearchParams;return r&&n.append("limit",r.toString()),a&&n.append("start",a.toString()),this.request(`/confluence/spaces/${e}/pages?${n}`)}async getRecentConfluencePages(e,r,a){const n=new URLSearchParams;return e&&n.append("spaceKey",e),r&&n.append("days",r.toString()),a&&n.append("limit",a.toString()),this.request(`/confluence/recent?${n}`)}async getSOPSuggestions(e,r,a){return this.request("/confluence/sops/suggest",{method:"POST",body:JSON.stringify({query:e,customerId:r,interactionType:a})})}async testConfluenceConnection(){return this.request("/confluence/health")}}const $s=new Ro;function Po({data:t,loading:e}){if(e)return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[...Array(6)].map((a,n)=>s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})},n))});const r=[{name:"Total Customers",value:(t==null?void 0:t.overview.total_customers)||0,icon:jo,change:"+12%",changeType:"increase",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900"},{name:"Interactions",value:(t==null?void 0:t.overview.total_interactions)||0,icon:ss,change:"+8%",changeType:"increase",color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900"},{name:"AI Queries",value:(t==null?void 0:t.overview.total_ai_queries)||0,icon:Yi,change:"+23%",changeType:"increase",color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-900"},{name:"Avg Response Time",value:`${Math.round(((t==null?void 0:t.overview.avg_response_time)||0)/60)}m`,icon:Qi,change:"-5%",changeType:"decrease",color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900"},{name:"Satisfaction",value:`${Math.round(((t==null?void 0:t.overview.customer_satisfaction)||0)*100)}%`,icon:io,change:"+3%",changeType:"increase",color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900"},{name:"Resolution Rate",value:`${Math.round(((t==null?void 0:t.overview.resolution_rate)||0)*100)}%`,icon:Ui,change:"+7%",changeType:"increase",color:"text-emerald-600",bgColor:"bg-emerald-100 dark:bg-emerald-900"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:r.map(a=>s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex-shrink-0 ${a.bgColor} rounded-md p-3`,children:s.jsx(a.icon,{className:`h-6 w-6 ${a.color}`,"aria-hidden":"true"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:a.name}),s.jsxs("dd",{className:"flex items-baseline",children:[s.jsx("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:typeof a.value=="number"?a.value.toLocaleString():a.value}),s.jsx("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${a.changeType==="increase"?"text-green-600":"text-red-600"}`,children:a.change})]})]})})]})},a.name))})}function Oo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{fillRule:"evenodd",d:"M1.72 5.47a.75.75 0 0 1 1.06 0L9 11.69l3.756-3.756a.75.75 0 0 1 .985-.066 12.698 12.698 0 0 1 4.575 6.832l.308 1.149 2.277-3.943a.75.75 0 1 1 1.299.75l-3.182 5.51a.75.75 0 0 1-1.025.275l-5.511-3.181a.75.75 0 0 1 .75-1.3l3.943 2.277-.308-1.149a11.194 11.194 0 0 0-3.528-5.617l-3.809 3.81a.75.75 0 0 1-1.06 0L1.72 6.53a.75.75 0 0 1 0-1.061Z",clipRule:"evenodd"}))}const To=u.forwardRef(Oo),Eo=To;function Io({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{fillRule:"evenodd",d:"M15.22 6.268a.75.75 0 0 1 .968-.431l5.942 2.28a.75.75 0 0 1 .431.97l-2.28 5.94a.75.75 0 1 1-1.4-.537l1.63-4.251-1.086.484a11.2 11.2 0 0 0-5.45 5.173.75.75 0 0 1-1.199.19L9 12.312l-6.22 6.22a.75.75 0 0 1-1.06-1.061l6.75-6.75a.75.75 0 0 1 1.06 0l3.606 3.606a12.695 12.695 0 0 1 5.68-4.974l1.086-.483-4.251-1.632a.75.75 0 0 1-.432-.97Z",clipRule:"evenodd"}))}const Fo=u.forwardRef(Io),Do=Fo;function Mo({title:t,titleId:e,...r},a){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},r),t?u.createElement("title",{id:e},t):null,u.createElement("path",{fillRule:"evenodd",d:"M4.25 12a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const _o=u.forwardRef(Mo),Us=_o;function Lo({data:t,loading:e}){if(e)return s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((n,i)=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]},i))})]})});const r=n=>{switch(n){case"up":return s.jsx(Do,{className:"h-4 w-4 text-green-600"});case"down":return s.jsx(Eo,{className:"h-4 w-4 text-red-600"});case"stable":return s.jsx(Us,{className:"h-4 w-4 text-gray-400"});default:return s.jsx(Us,{className:"h-4 w-4 text-gray-400"})}},a=n=>{switch(n){case"up":return"text-green-600";case"down":return"text-red-600";case"stable":return"text-gray-400";default:return"text-gray-400"}};return s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Real-time Metrics"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Live"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(t==null?void 0:t.map(n=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n.name}),r(n.trend)]}),s.jsxs("div",{className:"flex items-baseline space-x-2",children:[s.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:typeof n.value=="number"?n.value.toLocaleString():n.value}),s.jsxs("p",{className:`text-sm font-medium ${a(n.trend)}`,children:[n.change_percentage>0?"+":"",n.change_percentage.toFixed(1),"%"]})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Updated ",new Date(n.last_updated).toLocaleTimeString()]})]},n.id)))||[]}),!t||t.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No real-time metrics available"})}):null]})}const qo={interaction:ss,customer:Ir,report:Er,alert:ro},$o={interaction:"text-blue-600 bg-blue-100 dark:bg-blue-900",customer:"text-green-600 bg-green-100 dark:bg-green-900",report:"text-purple-600 bg-purple-100 dark:bg-purple-900",alert:"text-red-600 bg-red-100 dark:bg-red-900"},Vs=[{id:"1",type:"interaction",title:"New customer inquiry",description:"Sarah Chen submitted a support ticket about billing",timestamp:new Date(Date.now()-5*60*1e3).toISOString(),user:"AI Assistant"},{id:"2",type:"customer",title:"New customer registered",description:"John Smith created an account and completed onboarding",timestamp:new Date(Date.now()-15*60*1e3).toISOString(),user:"System"},{id:"3",type:"alert",title:"Response time alert",description:"Average response time exceeded 2 minutes threshold",timestamp:new Date(Date.now()-30*60*1e3).toISOString(),user:"Monitoring System"},{id:"4",type:"report",title:"Weekly report generated",description:"Customer satisfaction report for week ending Dec 15",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),user:"Report Scheduler"},{id:"5",type:"interaction",title:"Issue resolved",description:"Product return issue resolved for customer Maria Garcia",timestamp:new Date(Date.now()-3*60*60*1e3).toISOString(),user:"Agent Smith"}];function Uo(){const{data:t=Vs,isLoading:e}=Ut({queryKey:["recent-activities"],queryFn:()=>Promise.resolve(Vs),refetchInterval:3e4}),r=a=>{const n=new Date(a),o=Math.floor((new Date().getTime()-n.getTime())/(1e3*60));return o<1?"Just now":o<60?`${o}m ago`:o<24*60?`${Math.floor(o/60)}h ago`:n.toLocaleDateString()};return e?s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((a,n)=>s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},n))})]})}):s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Activity"}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"View all"})]}),s.jsx("div",{className:"flow-root",children:s.jsx("ul",{className:"-mb-8",children:t.map((a,n)=>{const i=qo[a.type],o=$o[a.type];return s.jsx("li",{children:s.jsxs("div",{className:"relative pb-8",children:[n!==t.length-1?s.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}):null,s.jsxs("div",{className:"relative flex space-x-3",children:[s.jsx("div",{children:s.jsx("span",{className:`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800 ${o}`,children:s.jsx(i,{className:"h-5 w-5","aria-hidden":"true"})})}),s.jsxs("div",{className:"flex min-w-0 flex-1 justify-between space-x-4 pt-1.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.title}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description}),a.user&&s.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["by ",a.user]})]}),s.jsx("div",{className:"whitespace-nowrap text-right text-sm text-gray-500 dark:text-gray-400",children:r(a.timestamp)})]})]})]})},a.id)})})}),t.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent activity"})})]})}const Vo=[{name:"Add Customer",description:"Create a new customer record",href:"/customers?action=create",icon:Ir},{name:"Start AI Chat",description:"Begin a new AI-assisted conversation",href:"/ai-chat",icon:ss},{name:"Generate Report",description:"Create a new analytics report",href:"/reports?action=generate",icon:Er},{name:"Settings",description:"Configure system settings",href:"/settings",icon:zi}];function Bo(){const t=sr(),e=r=>{t(r)};return s.jsxs(ne,{as:"div",className:"relative inline-block text-left",children:[s.jsx("div",{children:s.jsxs(ne.Button,{className:"btn-primary btn-md",children:[s.jsx(po,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Quick Actions"]})}),s.jsx(Dt,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:s.jsx(ne.Items,{className:"absolute right-0 mt-2 w-72 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:s.jsx("div",{className:"py-1",children:Vo.map(r=>s.jsx(ne.Item,{children:({active:a})=>s.jsxs("button",{onClick:()=>e(r.href),className:`${a?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white":"text-gray-700 dark:text-gray-300"} group flex items-center px-4 py-3 text-sm w-full text-left`,children:[s.jsx(r.icon,{className:"mr-3 h-5 w-5 text-gray-400 dark:text-gray-500 group-hover:text-gray-500 dark:group-hover:text-gray-400","aria-hidden":"true"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:r.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.description})]})]})},r.name))})})})]})}function Qo(){var h,p,y;const{data:t,isLoading:e,error:r}=Ut({queryKey:["dashboard-metrics"],queryFn:()=>$s.getDashboardMetrics(),retry:!1}),{data:a,isLoading:n,error:i}=Ut({queryKey:["realtime-metrics"],queryFn:()=>$s.getRealTimeMetrics(),refetchInterval:3e4,retry:!1}),o={success:!0,data:{overview:{total_customers:1234,total_interactions:5678,total_ai_queries:892,avg_response_time:2.3,customer_satisfaction:4.2,resolution_rate:.87},trends:{customer_growth:[],interaction_volume:[],ai_usage:[],satisfaction_trend:[]},performance:{top_agents:[],ai_metrics:{total_queries:892,avg_confidence:.87,cache_hit_rate:.65,error_rate:.02}},insights:{peak_hours:[],popular_channels:[],sentiment_distribution:{positive:.7,neutral:.2,negative:.1},escalation_rate:.15}}},l={success:!0,data:[{id:"1",name:"Active Users",value:142,change_percentage:12,trend:"up",last_updated:new Date().toISOString()},{id:"2",name:"Response Time",value:2.1,change_percentage:-8.5,trend:"down",last_updated:new Date().toISOString()},{id:"3",name:"Queue Length",value:5,change_percentage:-37.5,trend:"down",last_updated:new Date().toISOString()}]};if(e)return s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((g,w)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},w))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"}),s.jsx("div",{className:"h-96 bg-gray-200 rounded-lg"})]})]});const d=t||(r?o:null),m=a||(i?l:null);return s.jsxs("div",{className:"space-y-6",children:[r||i?s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsx("div",{className:"flex",children:s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Demo Mode"}),s.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Displaying sample data. Connect your API backend for real metrics."})]})})}):null,s.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Welcome back! Here's what's happening with your CRM."})]}),s.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:s.jsx(Bo,{})})]}),s.jsx(Po,{data:d==null?void 0:d.data,loading:e}),s.jsx(Lo,{data:m==null?void 0:m.data,loading:n}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Uo,{})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"AI Insights"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Customer satisfaction increased by 12% this week"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Based on sentiment analysis"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-yellow-600 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Response time spike detected in email channel"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Requires attention"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-green-600 rounded-full mt-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"AI suggestions acceptance rate at 87%"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Above target"})]})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Top Agents"}),s.jsx("div",{className:"space-y-4",children:((y=(p=(h=t==null?void 0:t.data)==null?void 0:h.performance)==null?void 0:p.top_agents)==null?void 0:y.slice(0,3).map(g=>{var w;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-medium",children:((w=g.agent_name)==null?void 0:w.charAt(0))||"#"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g.agent_name||`Agent ${g.agent_id}`}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.satisfaction_score,"% satisfaction"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:g.total_interactions}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"interactions"})]})]},g.agent_id)}))||[]})]})]})]})]})}function Ho(){return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Customers"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage your customer database and interactions"})]})}),s.jsxs("div",{className:"card p-8 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Customer Management"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Customer management interface coming soon..."})]})]})}function Ko(){const{id:t}=aa();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Customer Details"}),s.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Customer ID: ",t]})]})}),s.jsxs("div",{className:"card p-8 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Customer Profile"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Customer detail view coming soon..."})]})]})}function zo(){return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Analytics"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Deep insights into your customer interactions and AI performance"})]})}),s.jsxs("div",{className:"card p-8 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Advanced Analytics"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Analytics dashboard with charts and visualizations coming soon..."})]})]})}var We=t=>t.type==="checkbox",Re=t=>t instanceof Date,ae=t=>t==null;const Fr=t=>typeof t=="object";var z=t=>!ae(t)&&!Array.isArray(t)&&Fr(t)&&!Re(t),Go=t=>z(t)&&t.target?We(t.target)?t.target.checked:t.target.value:t,Wo=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Zo=(t,e)=>t.has(Wo(e)),Jo=t=>{const e=t.constructor&&t.constructor.prototype;return z(e)&&e.hasOwnProperty("isPrototypeOf")},rs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function se(t){let e;const r=Array.isArray(t),a=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(rs&&(t instanceof Blob||a))&&(r||z(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!Jo(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=se(t[n]));else return t;return e}var jt=t=>/^\w*$/.test(t),J=t=>t===void 0,as=t=>Array.isArray(t)?t.filter(Boolean):[],ns=t=>as(t.replace(/["|']|\]/g,"").split(/\.|\[/)),R=(t,e,r)=>{if(!e||!z(t))return r;const a=(jt(e)?[e]:ns(e)).reduce((n,i)=>ae(n)?n:n[i],t);return J(a)||a===t?J(t[e])?r:t[e]:a},pe=t=>typeof t=="boolean",H=(t,e,r)=>{let a=-1;const n=jt(e)?[e]:ns(e),i=n.length,o=i-1;for(;++a<i;){const l=n[a];let d=r;if(a!==o){const m=t[l];d=z(m)||Array.isArray(m)?m:isNaN(+n[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=d,t=t[l]}};const Bs={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},me={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},be={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Yo=ee.createContext(null);Yo.displayName="HookFormContext";var Xo=(t,e,r,a=!0)=>{const n={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(n,i,{get:()=>{const o=i;return e._proxyFormState[o]!==me.all&&(e._proxyFormState[o]=!a||me.all),r&&(r[o]=!0),t[o]}});return n};const el=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;var ge=t=>typeof t=="string",tl=(t,e,r,a,n)=>ge(t)?(a&&e.watch.add(t),R(r,t,n)):Array.isArray(t)?t.map(i=>(a&&e.watch.add(i),R(r,i))):(a&&(e.watchAll=!0),r),Kt=t=>ae(t)||!Fr(t);function Ne(t,e,r=new WeakSet){if(Kt(t)||Kt(e))return t===e;if(Re(t)&&Re(e))return t.getTime()===e.getTime();const a=Object.keys(t),n=Object.keys(e);if(a.length!==n.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const i of a){const o=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Re(o)&&Re(l)||z(o)&&z(l)||Array.isArray(o)&&Array.isArray(l)?!Ne(o,l,r):o!==l)return!1}}return!0}var sl=(t,e,r,a,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[a]:n||!0}}:{},Ve=t=>Array.isArray(t)?t:[t],Qs=()=>{let t=[];return{get observers(){return t},next:n=>{for(const i of t)i.next&&i.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(i=>i!==n)}}),unsubscribe:()=>{t=[]}}},ie=t=>z(t)&&!Object.keys(t).length,is=t=>t.type==="file",fe=t=>typeof t=="function",ft=t=>{if(!rs)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Dr=t=>t.type==="select-multiple",os=t=>t.type==="radio",rl=t=>os(t)||We(t),It=t=>ft(t)&&t.isConnected;function al(t,e){const r=e.slice(0,-1).length;let a=0;for(;a<r;)t=J(t)?a++:t[e[a++]];return t}function nl(t){for(const e in t)if(t.hasOwnProperty(e)&&!J(t[e]))return!1;return!0}function W(t,e){const r=Array.isArray(e)?e:jt(e)?[e]:ns(e),a=r.length===1?t:al(t,r),n=r.length-1,i=r[n];return a&&delete a[i],n!==0&&(z(a)&&ie(a)||Array.isArray(a)&&nl(a))&&W(t,r.slice(0,-1)),t}var Mr=t=>{for(const e in t)if(fe(t[e]))return!0;return!1};function pt(t,e={}){const r=Array.isArray(t);if(z(t)||r)for(const a in t)Array.isArray(t[a])||z(t[a])&&!Mr(t[a])?(e[a]=Array.isArray(t[a])?[]:{},pt(t[a],e[a])):ae(t[a])||(e[a]=!0);return e}function _r(t,e,r){const a=Array.isArray(t);if(z(t)||a)for(const n in t)Array.isArray(t[n])||z(t[n])&&!Mr(t[n])?J(e)||Kt(r[n])?r[n]=Array.isArray(t[n])?pt(t[n],[]):{...pt(t[n])}:_r(t[n],ae(e)?{}:e[n],r[n]):r[n]=!Ne(t[n],e[n]);return r}var _e=(t,e)=>_r(t,e,pt(e));const Hs={value:!1,isValid:!1},Ks={value:!0,isValid:!0};var Lr=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!J(t[0].attributes.value)?J(t[0].value)||t[0].value===""?Ks:{value:t[0].value,isValid:!0}:Ks:Hs}return Hs},qr=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:a})=>J(t)?t:e?t===""?NaN:t&&+t:r&&ge(t)?new Date(t):a?a(t):t;const zs={isValid:!1,value:null};var $r=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,zs):zs;function Gs(t){const e=t.ref;return is(e)?e.files:os(e)?$r(t.refs).value:Dr(e)?[...e.selectedOptions].map(({value:r})=>r):We(e)?Lr(t.refs).value:qr(J(e.value)?t.ref.value:e.value,t)}var il=(t,e,r,a)=>{const n={};for(const i of t){const o=R(e,i);o&&H(n,i,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:a}},yt=t=>t instanceof RegExp,Le=t=>J(t)?t:yt(t)?t.source:z(t)?yt(t.value)?t.value.source:t.value:t,Ws=t=>({isOnSubmit:!t||t===me.onSubmit,isOnBlur:t===me.onBlur,isOnChange:t===me.onChange,isOnAll:t===me.all,isOnTouch:t===me.onTouched});const Zs="AsyncFunction";var ol=t=>!!t&&!!t.validate&&!!(fe(t.validate)&&t.validate.constructor.name===Zs||z(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Zs)),ll=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Js=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(a=>t.startsWith(a)&&/^\.\w+/.test(t.slice(a.length))));const Be=(t,e,r,a)=>{for(const n of r||Object.keys(t)){const i=R(t,n);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!a)return!0;if(o.ref&&e(o.ref,o.name)&&!a)return!0;if(Be(l,e))break}else if(z(l)&&Be(l,e))break}}};function Ys(t,e,r){const a=R(t,r);if(a||jt(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const i=n.join("."),o=R(e,i),l=R(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};n.pop()}return{name:r}}var cl=(t,e,r,a)=>{r(t);const{name:n,...i}=t;return ie(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!a||me.all))},dl=(t,e,r)=>!t||!e||t===e||Ve(t).some(a=>a&&(r?a===e:a.startsWith(e)||e.startsWith(a))),ul=(t,e,r,a,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?a.isOnBlur:n.isOnBlur)?!t:(r?a.isOnChange:n.isOnChange)?t:!0,hl=(t,e)=>!as(R(t,e)).length&&W(t,e),ml=(t,e,r)=>{const a=Ve(R(t,r));return H(a,"root",e[r]),H(t,r,a),t},at=t=>ge(t);function Xs(t,e,r="validate"){if(at(t)||Array.isArray(t)&&t.every(at)||pe(t)&&!t)return{type:r,message:at(t)?t:"",ref:e}}var Ee=t=>z(t)&&!yt(t)?t:{value:t,message:""},er=async(t,e,r,a,n,i)=>{const{ref:o,refs:l,required:d,maxLength:m,minLength:h,min:p,max:y,pattern:g,validate:w,name:C,valueAsNumber:N,mount:F}=t._f,P=R(r,C);if(!F||e.has(C))return{};const T=l?l[0]:o,D=q=>{n&&T.reportValidity&&(T.setCustomValidity(pe(q)?"":q||""),T.reportValidity())},M={},L=os(o),E=We(o),I=L||E,U=(N||is(o))&&J(o.value)&&J(P)||ft(o)&&o.value===""||P===""||Array.isArray(P)&&!P.length,re=sl.bind(null,C,a,M),X=(q,v,b,k=be.maxLength,G=be.minLength)=>{const le=q?v:b;M[C]={type:q?k:G,message:le,ref:o,...re(q?k:G,le)}};if(i?!Array.isArray(P)||!P.length:d&&(!I&&(U||ae(P))||pe(P)&&!P||E&&!Lr(l).isValid||L&&!$r(l).isValid)){const{value:q,message:v}=at(d)?{value:!!d,message:d}:Ee(d);if(q&&(M[C]={type:be.required,message:v,ref:T,...re(be.required,v)},!a))return D(v),M}if(!U&&(!ae(p)||!ae(y))){let q,v;const b=Ee(y),k=Ee(p);if(!ae(P)&&!isNaN(P)){const G=o.valueAsNumber||P&&+P;ae(b.value)||(q=G>b.value),ae(k.value)||(v=G<k.value)}else{const G=o.valueAsDate||new Date(P),le=Ze=>new Date(new Date().toDateString()+" "+Ze),De=o.type=="time",Oe=o.type=="week";ge(b.value)&&P&&(q=De?le(P)>le(b.value):Oe?P>b.value:G>new Date(b.value)),ge(k.value)&&P&&(v=De?le(P)<le(k.value):Oe?P<k.value:G<new Date(k.value))}if((q||v)&&(X(!!q,b.message,k.message,be.max,be.min),!a))return D(M[C].message),M}if((m||h)&&!U&&(ge(P)||i&&Array.isArray(P))){const q=Ee(m),v=Ee(h),b=!ae(q.value)&&P.length>+q.value,k=!ae(v.value)&&P.length<+v.value;if((b||k)&&(X(b,q.message,v.message),!a))return D(M[C].message),M}if(g&&!U&&ge(P)){const{value:q,message:v}=Ee(g);if(yt(q)&&!P.match(q)&&(M[C]={type:be.pattern,message:v,ref:o,...re(be.pattern,v)},!a))return D(v),M}if(w){if(fe(w)){const q=await w(P,r),v=Xs(q,T);if(v&&(M[C]={...v,...re(be.validate,v.message)},!a))return D(v.message),M}else if(z(w)){let q={};for(const v in w){if(!ie(q)&&!a)break;const b=Xs(await w[v](P,r),T,v);b&&(q={...b,...re(v,b.message)},D(b.message),a&&(M[C]=q))}if(!ie(q)&&(M[C]={ref:T,...q},!a))return M}}return D(!0),M};const fl={mode:me.onSubmit,reValidateMode:me.onChange,shouldFocusError:!0};function pl(t={}){let e={...fl,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:fe(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},a={},n=z(e.defaultValues)||z(e.values)?se(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:se(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const y={array:Qs(),state:Qs()},g=e.criteriaMode===me.all,w=c=>f=>{clearTimeout(m),m=setTimeout(c,f)},C=async c=>{if(!e.disabled&&(h.isValid||p.isValid||c)){const f=e.resolver?ie((await E()).errors):await U(a,!0);f!==r.isValid&&y.state.next({isValid:f})}},N=(c,f)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((c||Array.from(l.mount)).forEach(x=>{x&&(f?H(r.validatingFields,x,f):W(r.validatingFields,x))}),y.state.next({validatingFields:r.validatingFields,isValidating:!ie(r.validatingFields)}))},F=(c,f=[],x,A,S=!0,j=!0)=>{if(A&&x&&!e.disabled){if(o.action=!0,j&&Array.isArray(R(a,c))){const O=x(R(a,c),A.argA,A.argB);S&&H(a,c,O)}if(j&&Array.isArray(R(r.errors,c))){const O=x(R(r.errors,c),A.argA,A.argB);S&&H(r.errors,c,O),hl(r.errors,c)}if((h.touchedFields||p.touchedFields)&&j&&Array.isArray(R(r.touchedFields,c))){const O=x(R(r.touchedFields,c),A.argA,A.argB);S&&H(r.touchedFields,c,O)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=_e(n,i)),y.state.next({name:c,isDirty:X(c,f),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else H(i,c,f)},P=(c,f)=>{H(r.errors,c,f),y.state.next({errors:r.errors})},T=c=>{r.errors=c,y.state.next({errors:r.errors,isValid:!1})},D=(c,f,x,A)=>{const S=R(a,c);if(S){const j=R(i,c,J(x)?R(n,c):x);J(j)||A&&A.defaultChecked||f?H(i,c,f?j:Gs(S._f)):b(c,j),o.mount&&C()}},M=(c,f,x,A,S)=>{let j=!1,O=!1;const V={name:c};if(!e.disabled){if(!x||A){(h.isDirty||p.isDirty)&&(O=r.isDirty,r.isDirty=V.isDirty=X(),j=O!==V.isDirty);const Q=Ne(R(n,c),f);O=!!R(r.dirtyFields,c),Q?W(r.dirtyFields,c):H(r.dirtyFields,c,!0),V.dirtyFields=r.dirtyFields,j=j||(h.dirtyFields||p.dirtyFields)&&O!==!Q}if(x){const Q=R(r.touchedFields,c);Q||(H(r.touchedFields,c,x),V.touchedFields=r.touchedFields,j=j||(h.touchedFields||p.touchedFields)&&Q!==x)}j&&S&&y.state.next(V)}return j?V:{}},L=(c,f,x,A)=>{const S=R(r.errors,c),j=(h.isValid||p.isValid)&&pe(f)&&r.isValid!==f;if(e.delayError&&x?(d=w(()=>P(c,x)),d(e.delayError)):(clearTimeout(m),d=null,x?H(r.errors,c,x):W(r.errors,c)),(x?!Ne(S,x):S)||!ie(A)||j){const O={...A,...j&&pe(f)?{isValid:f}:{},errors:r.errors,name:c};r={...r,...O},y.state.next(O)}},E=async c=>{N(c,!0);const f=await e.resolver(i,e.context,il(c||l.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return N(c),f},I=async c=>{const{errors:f}=await E(c);if(c)for(const x of c){const A=R(f,x);A?H(r.errors,x,A):W(r.errors,x)}else r.errors=f;return f},U=async(c,f,x={valid:!0})=>{for(const A in c){const S=c[A];if(S){const{_f:j,...O}=S;if(j){const V=l.array.has(j.name),Q=S._f&&ol(S._f);Q&&h.validatingFields&&N([A],!0);const ce=await er(S,l.disabled,i,g,e.shouldUseNativeValidation&&!f,V);if(Q&&h.validatingFields&&N([A]),ce[j.name]&&(x.valid=!1,f))break;!f&&(R(ce,j.name)?V?ml(r.errors,ce,j.name):H(r.errors,j.name,ce[j.name]):W(r.errors,j.name))}!ie(O)&&await U(O,f,x)}}return x.valid},re=()=>{for(const c of l.unMount){const f=R(a,c);f&&(f._f.refs?f._f.refs.every(x=>!It(x)):!It(f._f.ref))&&kt(c)}l.unMount=new Set},X=(c,f)=>!e.disabled&&(c&&f&&H(i,c,f),!Ne(Ze(),n)),q=(c,f,x)=>tl(c,l,{...o.mount?i:J(f)?n:ge(c)?{[c]:f}:f},x,f),v=c=>as(R(o.mount?i:n,c,e.shouldUnregister?R(n,c,[]):[])),b=(c,f,x={})=>{const A=R(a,c);let S=f;if(A){const j=A._f;j&&(!j.disabled&&H(i,c,qr(f,j)),S=ft(j.ref)&&ae(f)?"":f,Dr(j.ref)?[...j.ref.options].forEach(O=>O.selected=S.includes(O.value)):j.refs?We(j.ref)?j.refs.forEach(O=>{(!O.defaultChecked||!O.disabled)&&(Array.isArray(S)?O.checked=!!S.find(V=>V===O.value):O.checked=S===O.value||!!S)}):j.refs.forEach(O=>O.checked=O.value===S):is(j.ref)?j.ref.value="":(j.ref.value=S,j.ref.type||y.state.next({name:c,values:se(i)})))}(x.shouldDirty||x.shouldTouch)&&M(c,S,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&Oe(c)},k=(c,f,x)=>{for(const A in f){if(!f.hasOwnProperty(A))return;const S=f[A],j=c+"."+A,O=R(a,j);(l.array.has(c)||z(S)||O&&!O._f)&&!Re(S)?k(j,S,x):b(j,S,x)}},G=(c,f,x={})=>{const A=R(a,c),S=l.array.has(c),j=se(f);H(i,c,j),S?(y.array.next({name:c,values:se(i)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&x.shouldDirty&&y.state.next({name:c,dirtyFields:_e(n,i),isDirty:X(c,j)})):A&&!A._f&&!ae(j)?k(c,j,x):b(c,j,x),Js(c,l)&&y.state.next({...r,name:c}),y.state.next({name:o.mount?c:void 0,values:se(i)})},le=async c=>{o.mount=!0;const f=c.target;let x=f.name,A=!0;const S=R(a,x),j=Q=>{A=Number.isNaN(Q)||Re(Q)&&isNaN(Q.getTime())||Ne(Q,R(i,x,Q))},O=Ws(e.mode),V=Ws(e.reValidateMode);if(S){let Q,ce;const Je=f.type?Gs(S._f):Go(c),we=c.type===Bs.BLUR||c.type===Bs.FOCUS_OUT,Wr=!ll(S._f)&&!e.resolver&&!R(r.errors,x)&&!S._f.deps||ul(we,R(r.touchedFields,x),r.isSubmitted,V,O),Ct=Js(x,l,we);H(i,x,Je),we?(!f||!f.readOnly)&&(S._f.onBlur&&S._f.onBlur(c),d&&d(0)):S._f.onChange&&S._f.onChange(c);const At=M(x,Je,we),Zr=!ie(At)||Ct;if(!we&&y.state.next({name:x,type:c.type,values:se(i)}),Wr)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?we&&C():we||C()),Zr&&y.state.next({name:x,...Ct?{}:At});if(!we&&Ct&&y.state.next({...r}),e.resolver){const{errors:ys}=await E([x]);if(j(Je),A){const Jr=Ys(r.errors,a,x),gs=Ys(ys,a,Jr.name||x);Q=gs.error,x=gs.name,ce=ie(ys)}}else N([x],!0),Q=(await er(S,l.disabled,i,g,e.shouldUseNativeValidation))[x],N([x]),j(Je),A&&(Q?ce=!1:(h.isValid||p.isValid)&&(ce=await U(a,!0)));A&&(S._f.deps&&Oe(S._f.deps),L(x,ce,Q,At))}},De=(c,f)=>{if(R(r.errors,f)&&c.focus)return c.focus(),1},Oe=async(c,f={})=>{let x,A;const S=Ve(c);if(e.resolver){const j=await I(J(c)?c:S);x=ie(j),A=c?!S.some(O=>R(j,O)):x}else c?(A=(await Promise.all(S.map(async j=>{const O=R(a,j);return await U(O&&O._f?{[j]:O}:O)}))).every(Boolean),!(!A&&!r.isValid)&&C()):A=x=await U(a);return y.state.next({...!ge(c)||(h.isValid||p.isValid)&&x!==r.isValid?{}:{name:c},...e.resolver||!c?{isValid:x}:{},errors:r.errors}),f.shouldFocus&&!A&&Be(a,De,c?S:l.mount),A},Ze=c=>{const f={...o.mount?i:n};return J(c)?f:ge(c)?R(f,c):c.map(x=>R(f,x))},ls=(c,f)=>({invalid:!!R((f||r).errors,c),isDirty:!!R((f||r).dirtyFields,c),error:R((f||r).errors,c),isValidating:!!R(r.validatingFields,c),isTouched:!!R((f||r).touchedFields,c)}),Vr=c=>{c&&Ve(c).forEach(f=>W(r.errors,f)),y.state.next({errors:c?r.errors:{}})},cs=(c,f,x)=>{const A=(R(a,c,{_f:{}})._f||{}).ref,S=R(r.errors,c)||{},{ref:j,message:O,type:V,...Q}=S;H(r.errors,c,{...Q,...f,ref:A}),y.state.next({name:c,errors:r.errors,isValid:!1}),x&&x.shouldFocus&&A&&A.focus&&A.focus()},Br=(c,f)=>fe(c)?y.state.subscribe({next:x=>"values"in x&&c(q(void 0,f),x)}):q(c,f,!0),ds=c=>y.state.subscribe({next:f=>{dl(c.name,f.name,c.exact)&&cl(f,c.formState||h,Gr,c.reRenderRoot)&&c.callback({values:{...i},...r,...f,defaultValues:n})}}).unsubscribe,Qr=c=>(o.mount=!0,p={...p,...c.formState},ds({...c,formState:p})),kt=(c,f={})=>{for(const x of c?Ve(c):l.mount)l.mount.delete(x),l.array.delete(x),f.keepValue||(W(a,x),W(i,x)),!f.keepError&&W(r.errors,x),!f.keepDirty&&W(r.dirtyFields,x),!f.keepTouched&&W(r.touchedFields,x),!f.keepIsValidating&&W(r.validatingFields,x),!e.shouldUnregister&&!f.keepDefaultValue&&W(n,x);y.state.next({values:se(i)}),y.state.next({...r,...f.keepDirty?{isDirty:X()}:{}}),!f.keepIsValid&&C()},us=({disabled:c,name:f})=>{(pe(c)&&o.mount||c||l.disabled.has(f))&&(c?l.disabled.add(f):l.disabled.delete(f))},Nt=(c,f={})=>{let x=R(a,c);const A=pe(f.disabled)||pe(e.disabled);return H(a,c,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:c}},name:c,mount:!0,...f}}),l.mount.add(c),x?us({disabled:pe(f.disabled)?f.disabled:e.disabled,name:c}):D(c,!0,f.value),{...A?{disabled:f.disabled||e.disabled}:{},...e.progressive?{required:!!f.required,min:Le(f.min),max:Le(f.max),minLength:Le(f.minLength),maxLength:Le(f.maxLength),pattern:Le(f.pattern)}:{},name:c,onChange:le,onBlur:le,ref:S=>{if(S){Nt(c,f),x=R(a,c);const j=J(S.value)&&S.querySelectorAll&&S.querySelectorAll("input,select,textarea")[0]||S,O=rl(j),V=x._f.refs||[];if(O?V.find(Q=>Q===j):j===x._f.ref)return;H(a,c,{_f:{...x._f,...O?{refs:[...V.filter(It),j,...Array.isArray(R(n,c))?[{}]:[]],ref:{type:j.type,name:c}}:{ref:j}}}),D(c,!1,void 0,j)}else x=R(a,c,{}),x._f&&(x._f.mount=!1),(e.shouldUnregister||f.shouldUnregister)&&!(Zo(l.array,c)&&o.action)&&l.unMount.add(c)}}},St=()=>e.shouldFocusError&&Be(a,De,l.mount),Hr=c=>{pe(c)&&(y.state.next({disabled:c}),Be(a,(f,x)=>{const A=R(a,x);A&&(f.disabled=A._f.disabled||c,Array.isArray(A._f.refs)&&A._f.refs.forEach(S=>{S.disabled=A._f.disabled||c}))},0,!1))},hs=(c,f)=>async x=>{let A;x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let S=se(i);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:j,values:O}=await E();r.errors=j,S=se(O)}else await U(a);if(l.disabled.size)for(const j of l.disabled)W(S,j);if(W(r.errors,"root"),ie(r.errors)){y.state.next({errors:{}});try{await c(S,x)}catch(j){A=j}}else f&&await f({...r.errors},x),St(),setTimeout(St);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ie(r.errors)&&!A,submitCount:r.submitCount+1,errors:r.errors}),A)throw A},Kr=(c,f={})=>{R(a,c)&&(J(f.defaultValue)?G(c,se(R(n,c))):(G(c,f.defaultValue),H(n,c,se(f.defaultValue))),f.keepTouched||W(r.touchedFields,c),f.keepDirty||(W(r.dirtyFields,c),r.isDirty=f.defaultValue?X(c,se(R(n,c))):X()),f.keepError||(W(r.errors,c),h.isValid&&C()),y.state.next({...r}))},ms=(c,f={})=>{const x=c?se(c):n,A=se(x),S=ie(c),j=S?n:A;if(f.keepDefaultValues||(n=x),!f.keepValues){if(f.keepDirtyValues){const O=new Set([...l.mount,...Object.keys(_e(n,i))]);for(const V of Array.from(O))R(r.dirtyFields,V)?H(j,V,R(i,V)):G(V,R(j,V))}else{if(rs&&J(c))for(const O of l.mount){const V=R(a,O);if(V&&V._f){const Q=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(ft(Q)){const ce=Q.closest("form");if(ce){ce.reset();break}}}}if(f.keepFieldsRef)for(const O of l.mount)G(O,R(j,O));else a={}}i=e.shouldUnregister?f.keepDefaultValues?se(n):{}:se(j),y.array.next({values:{...j}}),y.state.next({values:{...j}})}l={mount:f.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!f.keepIsValid||!!f.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:f.keepSubmitCount?r.submitCount:0,isDirty:S?!1:f.keepDirty?r.isDirty:!!(f.keepDefaultValues&&!Ne(c,n)),isSubmitted:f.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:S?{}:f.keepDirtyValues?f.keepDefaultValues&&i?_e(n,i):r.dirtyFields:f.keepDefaultValues&&c?_e(n,c):f.keepDirty?r.dirtyFields:{},touchedFields:f.keepTouched?r.touchedFields:{},errors:f.keepErrors?r.errors:{},isSubmitSuccessful:f.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},fs=(c,f)=>ms(fe(c)?c(i):c,f),zr=(c,f={})=>{const x=R(a,c),A=x&&x._f;if(A){const S=A.refs?A.refs[0]:A.ref;S.focus&&(S.focus(),f.shouldSelect&&fe(S.select)&&S.select())}},Gr=c=>{r={...r,...c}},ps={control:{register:Nt,unregister:kt,getFieldState:ls,handleSubmit:hs,setError:cs,_subscribe:ds,_runSchema:E,_focusError:St,_getWatch:q,_getDirty:X,_setValid:C,_setFieldArray:F,_setDisabledField:us,_setErrors:T,_getFieldArray:v,_reset:ms,_resetDefaultValues:()=>fe(e.defaultValues)&&e.defaultValues().then(c=>{fs(c,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:Hr,_subjects:y,_proxyFormState:h,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(c){o=c},get _defaultValues(){return n},get _names(){return l},set _names(c){l=c},get _formState(){return r},get _options(){return e},set _options(c){e={...e,...c}}},subscribe:Qr,trigger:Oe,register:Nt,handleSubmit:hs,watch:Br,setValue:G,getValues:Ze,reset:fs,resetField:Kr,clearErrors:Vr,unregister:kt,setError:cs,setFocus:zr,getFieldState:ls};return{...ps,formControl:ps}}function yl(t={}){const e=ee.useRef(void 0),r=ee.useRef(void 0),[a,n]=ee.useState({isDirty:!1,isValidating:!1,isLoading:fe(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:fe(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:a},t.defaultValues&&!fe(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=pl(t);e.current={...l,formState:a}}const i=e.current.control;return i._options=t,el(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),ee.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ee.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ee.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ee.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ee.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),ee.useEffect(()=>{t.values&&!Ne(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,n(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),ee.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Xo(a,i),e.current}const gl={blue:{bg:"bg-blue-100 dark:bg-blue-900/20",icon:"text-blue-600 dark:text-blue-400",change:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-100 dark:bg-green-900/20",icon:"text-green-600 dark:text-green-400",change:"text-green-600 dark:text-green-400"},purple:{bg:"bg-purple-100 dark:bg-purple-900/20",icon:"text-purple-600 dark:text-purple-400",change:"text-purple-600 dark:text-purple-400"},orange:{bg:"bg-orange-100 dark:bg-orange-900/20",icon:"text-orange-600 dark:text-orange-400",change:"text-orange-600 dark:text-orange-400"},red:{bg:"bg-red-100 dark:bg-red-900/20",icon:"text-red-600 dark:text-red-400",change:"text-red-600 dark:text-red-400"}};function et({title:t,value:e,change:r,icon:a,color:n="blue"}){const i=gl[n];return s.jsxs(B.div,{whileHover:{y:-2,scale:1.02},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-lg transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium mb-1",children:t}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e})]}),s.jsx("div",{className:`w-12 h-12 ${i.bg} rounded-lg flex items-center justify-center flex-shrink-0`,children:s.jsx(a,{className:`w-6 h-6 ${i.icon}`})})]}),s.jsxs("div",{className:"mt-4 flex items-center",children:[s.jsx("span",{className:`text-sm font-medium ${i.change}`,children:r}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400 text-sm ml-2",children:"from last month"})]})]})}const zt=u.forwardRef(({label:t,error:e,className:r="",...a},n)=>{const[i,o]=u.useState(!1),l=a.value&&String(a.value).length>0;return s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:n,...a,onFocus:d=>{var m;o(!0),(m=a.onFocus)==null||m.call(a,d)},onBlur:d=>{var m;o(!1),(m=a.onBlur)==null||m.call(a,d)},className:`
            peer w-full px-4 py-4 text-gray-900 dark:text-white bg-white dark:bg-gray-800 
            border border-gray-300 dark:border-gray-600 rounded-xl
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            placeholder-transparent transition-all duration-300
            ${e?"border-red-500 focus:ring-red-500":""}
            ${r}
          `,placeholder:t}),s.jsx(B.label,{animate:{y:i||l?-28:0,scale:i||l?.85:1,color:i?"#3B82F6":e?"#EF4444":"#6B7280"},transition:{duration:.2,ease:"easeOut"},className:"absolute left-4 top-4 pointer-events-none origin-left font-medium",children:t}),e&&s.jsx(B.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 dark:text-red-400",children:e})]})});zt.displayName="FloatingLabelInput";const Gt=u.forwardRef(({label:t,error:e,className:r="",...a},n)=>{const[i,o]=u.useState(!1),l=a.value&&String(a.value).length>0;return s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{ref:n,...a,onFocus:d=>{var m;o(!0),(m=a.onFocus)==null||m.call(a,d)},onBlur:d=>{var m;o(!1),(m=a.onBlur)==null||m.call(a,d)},className:`
            peer w-full px-4 py-4 text-gray-900 dark:text-white bg-white dark:bg-gray-800 
            border border-gray-300 dark:border-gray-600 rounded-xl resize-none
            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
            placeholder-transparent transition-all duration-300 min-h-[100px]
            ${e?"border-red-500 focus:ring-red-500":""}
            ${r}
          `,placeholder:t}),s.jsx(B.label,{animate:{y:i||l?-28:16,scale:i||l?.85:1,color:i?"#3B82F6":e?"#EF4444":"#6B7280"},transition:{duration:.2,ease:"easeOut"},className:"absolute left-4 top-4 pointer-events-none origin-left font-medium",children:t}),e&&s.jsx(B.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 dark:text-red-400",children:e})]})});Gt.displayName="FloatingLabelTextarea";function xl({onRepositorySelect:t,selectedRepositories:e}){const[r,a]=u.useState([]);u.useEffect(()=>{const d=localStorage.getItem("repositories");a(d?JSON.parse(d):[{id:"1",name:"Company SOPs",type:"confluence",config:{baseUrl:"https://company.atlassian.net/wiki",spaceKey:"SUPPORT"},status:"connected",createdAt:"2024-01-15T10:00:00Z"},{id:"2",name:"Documentation Repo",type:"github",config:{repoUrl:"https://github.com/company/docs",branch:"main"},status:"connected",createdAt:"2024-01-10T15:30:00Z"},{id:"3",name:"Customer Database",type:"database",config:{type:"postgresql",host:"localhost",database:"crm_db"},status:"connected",createdAt:"2024-01-20T09:15:00Z"}])},[]);const n=d=>{switch(d){case"confluence":return s.jsx(Xt,{className:"w-4 h-4"});case"github":return s.jsx(ts,{className:"w-4 h-4"});case"gitlab":return s.jsx(es,{className:"w-4 h-4"});case"database":return s.jsx(Ge,{className:"w-4 h-4"});case"file_upload":return s.jsx(Pe,{className:"w-4 h-4"});default:return s.jsx(Pe,{className:"w-4 h-4"})}},i=d=>{switch(d){case"connected":return"text-green-600";case"disconnected":return"text-gray-600";case"error":return"text-red-600";default:return"text-gray-600"}},o=d=>{const m=e.includes(d);let h;m?h=e.filter(y=>y!==d):h=[...e,d];const p=r.filter(y=>h.includes(y.id));t(p)},l=r.filter(d=>d.status==="connected");return l.length===0?s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:s.jsx("p",{className:"text-sm text-gray-600",children:"No repositories connected. Go to Settings to add knowledge sources."})}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Knowledge Sources"}),s.jsx("div",{className:"space-y-2",children:l.map(d=>s.jsxs("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"checkbox",checked:e.includes(d.id),onChange:()=>o(d.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[s.jsx("div",{className:i(d.status),children:n(d.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.name}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:d.type})]})]})]},d.id))}),e.length>0&&s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-800",children:["✨ AI will reference ",e.length," selected knowledge source",e.length>1?"s":""," when answering your questions."]})})]})}class bl{constructor(e){Te(this,"apiKey");Te(this,"baseUrl");Te(this,"isProduction");this.apiKey=e||"",this.isProduction=!0,this.baseUrl=this.isProduction?"https://genai-crm-dashboard.onrender.com/api/ai/query":"https://api.anthropic.com/v1/messages"}async processQueryWithRepositories(e){var i,o;const a=`You are an AI customer service assistant with access to company knowledge repositories. 
    
Available Knowledge Sources:
${this.buildRepositoryContext(e.selectedRepositories)}

Your task is to analyze customer queries and provide detailed, step-by-step guidance based on the available SOPs and documentation.

Always respond in this exact JSON format:
{
  "suggestedResponse": "Customer-facing response text",
  "processSteps": [
    {
      "step": 1,
      "action": "What to do",
      "reasoning": "Why this step is needed",
      "sopReference": "Which SOP/document this comes from",
      "confluenceUrl": "#"
    }
  ],
  "sopSources": [
    {
      "title": "Document name",
      "url": "Document URL",
      "version": "1.0",
      "relevanceScore": 0.9
    }
  ],
  "confidenceScore": 85,
  "classification": "sop_based",
  "sopFreshness": "fresh",
  "totalSOPsConsulted": 2,
  "reasoning": "Why you chose this approach",
  "escalationNeeded": false,
  "additionalResources": []
}`,n=`Customer Query Details:
- Ticket ID: ${e.ticketId}
- Customer ID: ${e.customerId||"Not provided"}
- Priority: ${e.priority}
- Customer Voice: "${e.customerVoice}"
- Agent Context: "${e.agentContext}"

Please analyze this query and provide a comprehensive response using the available knowledge sources.`;try{const l={model:"claude-3-5-sonnet-20241022",max_tokens:2e3,temperature:.1,system:a,messages:[{role:"user",content:n}]},d={"Content-Type":"application/json"};this.isProduction||(d["x-api-key"]=this.apiKey,d["anthropic-version"]="2023-06-01");const m=await fetch(this.baseUrl,{method:"POST",headers:d,body:JSON.stringify(l)});if(!m.ok)throw new Error(`Anthropic API error: ${m.status} ${m.statusText}`);const p=((o=(i=(await m.json()).content)==null?void 0:i[0])==null?void 0:o.text)||"";try{const y=JSON.parse(p);return this.validateAndNormalizeResponse(y,e.selectedRepositories)}catch(y){return console.error("Failed to parse AI response:",y),this.createFallbackResponse(e)}}catch(l){return console.error("Anthropic API error:",l),this.createFallbackResponse(e)}}buildRepositoryContext(e){return e.length===0?"No specific knowledge sources selected. Use general customer service best practices.":e.map(r=>{const a=this.getRepositoryDetails(r);return`- ${r.name} (${r.type}): ${a}`}).join(`
`)}getRepositoryDetails(e){switch(e.type){case"confluence":return`Confluence space containing SOPs and documentation at ${e.config.baseUrl}`;case"github":case"gitlab":return`Code repository with documentation at ${e.config.repoUrl}`;case"database":return`${e.config.type} database containing customer and operational data`;case"file_upload":return"Uploaded SOP documents and knowledge files";default:return"Knowledge repository"}}validateAndNormalizeResponse(e,r){return{suggestedResponse:e.suggestedResponse||"Thank you for your inquiry. Let me review this and get back to you with the appropriate guidance.",processSteps:(e.processSteps||[]).map((a,n)=>({step:a.step||n+1,action:a.action||"Review customer request",reasoning:a.reasoning||"Standard customer service protocol",sopReference:a.sopReference||(r.length>0?r[0].name:"General Guidelines"),confluenceUrl:a.confluenceUrl||"#"})),sopSources:r.map(a=>{var n,i;return{title:a.name,url:((n=a.config)==null?void 0:n.baseUrl)||((i=a.config)==null?void 0:i.repoUrl)||"#",version:"1.0",relevanceScore:Math.max(.7,Math.random())}}),confidenceScore:Math.min(100,Math.max(0,e.confidenceScore||75)),classification:e.classification||"sop_based",sopFreshness:e.sopFreshness||"fresh",totalSOPsConsulted:r.length,reasoning:e.reasoning||"Based on available knowledge sources and company policies",escalationNeeded:e.escalationNeeded||!1,additionalResources:e.additionalResources||[]}}createFallbackResponse(e){return{suggestedResponse:`Thank you for contacting us regarding "${e.customerVoice}". I understand this is a ${e.priority} priority issue. Let me review our procedures and get back to you with the appropriate next steps to resolve this matter.`,processSteps:[{step:1,action:"Acknowledge customer inquiry",reasoning:"Standard protocol for all customer contacts",sopReference:"General Customer Service Guidelines",confluenceUrl:"#"},{step:2,action:"Review relevant policies and procedures",reasoning:"Ensure compliance with company standards",sopReference:"Standard Operating Procedures",confluenceUrl:"#"},{step:3,action:"Provide appropriate resolution or escalate if needed",reasoning:"Customer satisfaction is our priority",sopReference:"Resolution Framework",confluenceUrl:"#"}],sopSources:e.selectedRepositories.map(r=>{var a,n;return{title:r.name,url:((a=r.config)==null?void 0:a.baseUrl)||((n=r.config)==null?void 0:n.repoUrl)||"#",version:"1.0",relevanceScore:.8}}),confidenceScore:70,classification:"unclear",sopFreshness:"fresh",totalSOPsConsulted:e.selectedRepositories.length,reasoning:"Fallback response due to API limitations or errors",escalationNeeded:!1,additionalResources:[]}}async testConnection(){try{if(this.isProduction){const n=await fetch("https://genai-crm-dashboard.onrender.com/api/ai/test");return n.ok?await n.json():{success:!1,error:`Backend test failed: ${n.status}`}}const e={"Content-Type":"application/json","x-api-key":this.apiKey,"anthropic-version":"2023-06-01"},r=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:e,body:JSON.stringify({model:"claude-3-5-sonnet-20241022",max_tokens:10,messages:[{role:"user",content:"Hello"}]})});if(!r.ok){const a=await r.text();return{success:!1,error:`HTTP ${r.status}: ${a}`}}return{success:!0}}catch(e){return{success:!1,error:e.message||"Failed to connect to Anthropic API"}}}}let Ce=null;const vl=()=>{const t="";try{return Ce=new bl(t||""),console.log("✅ Anthropic AI Service initialized successfully"),!0}catch(e){return console.error("❌ Failed to initialize Anthropic AI Service:",e),!1}};function wl(){var X,q;const[t,e]=u.useState(null),[r,a]=u.useState(!1),[n,i]=u.useState(null),[o,l]=u.useState(!1),[d,m]=u.useState([]),[h,p]=u.useState([]),[y,g]=u.useState("checking"),{register:w,handleSubmit:C,formState:{errors:N},reset:F}=yl();u.useEffect(()=>{(async()=>{const b=vl();if(l(b),b&&Ce){g("checking");try{const k=await Ce.testConnection();g(k.success?"valid":"invalid"),k.success||console.error("API Key validation failed:",k.error)}catch(k){g("invalid"),console.error("API Key test failed:",k)}}else g("valid")})()},[]);const P=[{id:"1",ticketId:"TKT-12345",summary:"Refund request for damaged item",timestamp:"2 min ago",status:"processed",sopUsed:"Return Policy SOP"},{id:"2",ticketId:"TKT-12344",summary:"Account access issues",timestamp:"5 min ago",status:"processing",sopUsed:"Account Recovery SOP"},{id:"3",ticketId:"TKT-12343",summary:"Billing inquiry",timestamp:"8 min ago",status:"completed",sopUsed:"Billing Support SOP"}],T=[{label:"Refund Process",icon:Et,color:"blue",category:"returns"},{label:"Account Reset",icon:Ri,color:"green",category:"account"},{label:"Billing Query",icon:ui,color:"purple",category:"billing"},{label:"Technical Support",icon:Pe,color:"orange",category:"technical"}],D=v=>{p(v),m(v.map(b=>b.id))},M=async v=>{if(!o||!Ce){K.error("Anthropic API not available. Please check your API key configuration.");return}if(y!=="valid"){K.error("Invalid or missing Anthropic API key. Please configure your environment variables.");return}a(!0),e(null);try{const b={...v,selectedRepositories:h};console.log("🔍 Processing query with Anthropic AI and selected repositories:",b);const k=await Ce.processQueryWithRepositories(b);e(k),K.success(`✨ AI response generated using Claude 3.5 Sonnet with ${h.length} knowledge source${h.length!==1?"s":""}`)}catch(b){console.error("❌ Error processing query with Anthropic:",b),K.error("Failed to process query with AI. Please try again.")}finally{a(!1)}},L=async()=>{if(Ce){g("checking");try{const v=await Ce.testConnection();g(v.success?"valid":"invalid"),v.success?K.success("✅ Anthropic API connection successful"):K.error(`❌ API connection failed: ${v.error}`)}catch{g("invalid"),K.error("❌ Failed to test API connection")}}},E=v=>{F({ticketId:`TKT-${Date.now()}`,customerVoice:`Customer needs help with ${v}`,agentContext:`Quick action triggered for ${v}`,priority:"medium"})},I=v=>{i(v),K.success(`Feedback recorded: ${v}`)},U=()=>y==="missing"?s.jsx(Tr,{className:"w-4 h-4 text-red-500"}):y==="checking"?s.jsx(Tt,{className:"w-4 h-4 text-blue-500 animate-spin"}):y==="invalid"?s.jsx(Ue,{className:"w-4 h-4 text-red-500"}):y==="valid"?s.jsx(ut,{className:"w-4 h-4 text-green-500"}):s.jsx(Ue,{className:"w-4 h-4 text-gray-500"}),re=()=>y==="missing"?"API Key Missing":y==="checking"?"Testing API Key...":y==="invalid"?"API Key Invalid":y==="valid"?"Anthropic Connected":"Unknown Status";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"AI Assistant Dashboard"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Claude 3.5 Sonnet AI with integrated knowledge repositories"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 dark:bg-gray-800 px-4 py-2 rounded-full",children:[U(),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:re()}),s.jsx("button",{onClick:L,disabled:y==="checking",className:"ml-2 p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-50",title:"Test API Connection",children:s.jsx(Tt,{className:`w-3 h-3 ${y==="checking"?"animate-spin":""}`})})]}),s.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-full ${y==="valid"?"bg-green-50 dark:bg-green-900/20":"bg-yellow-50 dark:bg-yellow-900/20"}`,children:[s.jsx(Is,{className:`w-4 h-4 ${y==="valid"?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400"}`}),s.jsx("span",{className:`text-sm font-medium ${y==="valid"?"text-green-700 dark:text-green-300":"text-yellow-700 dark:text-yellow-300"}`,children:y==="valid"?"Claude 3.5 Sonnet + Repositories":"Claude 3.5 Sonnet (Demo Mode)"})]})]})]}),s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(et,{title:"Today's Queries",value:"47",change:"+12%",icon:Rr,color:"blue"}),s.jsx(et,{title:"Knowledge Sources",value:h.length.toString(),change:`${d.length} selected`,icon:Me,color:"green"}),s.jsx(et,{title:"Avg Response Time",value:"1.2s",change:"-0.3s",icon:ht,color:"purple"}),s.jsx(et,{title:"Accuracy Rate",value:"94.8%",change:"+2.1%",icon:Et,color:"orange"})]}),y!=="valid"&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-6 shadow-sm border border-yellow-200 dark:border-yellow-800",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-900 dark:text-yellow-100 mb-4 flex items-center",children:[s.jsx(Ue,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Anthropic API Configuration Required"]}),s.jsxs("div",{className:"text-yellow-800 dark:text-yellow-200",children:[s.jsx("p",{className:"mb-3",children:"To use real AI-powered responses, you need to configure your Anthropic API key:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsxs("li",{children:["Get your API key from ",s.jsx("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"console.anthropic.com"})]}),s.jsxs("li",{children:["Create a ",s.jsx("code",{className:"bg-yellow-100 dark:bg-yellow-800 px-1 rounded",children:".env"})," file in your project root"]}),s.jsxs("li",{children:["Add: ",s.jsx("code",{className:"bg-yellow-100 dark:bg-yellow-800 px-1 rounded",children:"REACT_APP_ANTHROPIC_API_KEY=your_api_key_here"})]}),s.jsx("li",{children:"Restart the development server"})]}),s.jsx("p",{className:"mt-3 text-sm",children:"Until configured, the system will operate in demo mode with simulated responses."})]})]}),h.length>0&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(Me,{className:"w-5 h-5 mr-2 text-blue-500"}),"Connected Knowledge Sources (",h.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.map(v=>s.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:v.name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:v.type}),s.jsx("div",{className:`text-xs mt-1 px-2 py-1 rounded-full ${d.includes(v.id)?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-300"}`,children:d.includes(v.id)?"Selected":"Available"})]},v.id))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(Fe,{className:"w-6 h-6 mr-2 text-blue-500"}),"AI Assistant Query"]}),s.jsxs("form",{onSubmit:C(M),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(zt,{label:"Ticket ID",...w("ticketId",{required:"Ticket ID is required"}),error:(X=N.ticketId)==null?void 0:X.message,placeholder:"TKT-12345"}),s.jsx(zt,{label:"Customer ID (Optional)",...w("customerId"),placeholder:"CUST-67890"})]}),s.jsx("div",{children:s.jsx(Gt,{label:"Customer Voice (Issue Description)",...w("customerVoice",{required:"Customer voice is required"}),error:(q=N.customerVoice)==null?void 0:q.message,placeholder:"Customer is requesting a refund for a damaged item they received yesterday...",rows:4})}),s.jsx("div",{children:s.jsx(Gt,{label:"Agent Context (Additional Notes)",...w("agentContext"),placeholder:"Customer seems frustrated, order was placed 3 days ago, item appears to be damaged in shipping...",rows:3})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority Level"}),s.jsxs("select",{...w("priority"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6",children:s.jsx(xl,{onRepositorySelect:D,selectedRepositories:d})}),s.jsx(B.button,{type:"submit",disabled:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-6 rounded-lg font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:r?s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Tt,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{children:"Analyzing with SOPs..."})]}):s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Fe,{className:"w-5 h-5"}),s.jsx("span",{children:"Get AI Assistance"})]})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:T.map(v=>s.jsxs(B.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(v.category),className:`p-4 bg-${v.color}-50 dark:bg-${v.color}-900/20 hover:bg-${v.color}-100 dark:hover:bg-${v.color}-900/30 rounded-lg transition-colors group`,children:[s.jsx(v.icon,{className:`w-6 h-6 text-${v.color}-600 dark:text-${v.color}-400 mx-auto mb-2`}),s.jsx("div",{className:`text-sm font-medium text-${v.color}-700 dark:text-${v.color}-300`,children:v.label})]},v.label))})]})]}),s.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(ht,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recent Queries"]}),s.jsx("div",{className:"space-y-4",children:P.map(v=>s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:v.ticketId}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":v.status==="processing"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}`,children:v.status})]}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:v.summary}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[s.jsx("span",{children:v.timestamp}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),v.sopUsed]})]})]},v.id))})]})]}),t&&s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(Is,{className:"w-6 h-6 mr-2 text-purple-500"}),"AI Response"]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsxs("span",{children:["Confidence: ",t.confidenceScore,"%"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>I("accurate"),className:`p-2 rounded-lg transition-colors ${n==="accurate"?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"}`,children:s.jsx(Ci,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>I("inaccurate"),className:`p-2 rounded-lg transition-colors ${n==="inaccurate"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:s.jsx(Si,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(fi,{className:"w-5 h-5 mr-2 text-blue-500"}),"Process Steps"]}),s.jsx("div",{className:"space-y-4",children:t.processSteps.map((v,b)=>s.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"flex items-start space-x-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:v.step}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-1",children:v.action}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:v.reasoning}),s.jsxs("div",{className:"flex items-center text-xs text-blue-600 dark:text-blue-400",children:[s.jsx(Me,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:v.sopReference}),s.jsx(Es,{className:"w-3 h-3 ml-1"})]})]})]},b))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(Ni,{className:"w-5 h-5 mr-2 text-green-500"}),"Suggested Response"]}),s.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:s.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed",children:t.suggestedResponse})}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:["Referenced SOPs (",t.totalSOPsConsulted,")"]}),s.jsx("div",{className:"space-y-2",children:t.sopSources.map((v,b)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Me,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.title}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["v",v.version]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:[(v.relevanceScore*100).toFixed(0),"% match"]}),s.jsx(Es,{className:"w-3 h-3 text-blue-500"})]})]},b))})]}),s.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Classification:"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.classification==="sop_based"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":t.classification==="new_scenario"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:t.classification})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"SOP Freshness:"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${t.sopFreshness==="fresh"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":t.sopFreshness==="stale"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:t.sopFreshness})]})]})})]})]})]})]})}function jl(){return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Reports"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Generate and manage reports for business intelligence"})]})}),s.jsxs("div",{className:"card p-8 text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Report Generation"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Report generation and management interface coming soon..."})]})]})}function kl({isOpen:t,onClose:e,onSave:r}){var v;const[a,n]=u.useState("confluence"),[i,o]=u.useState(!1),[l,d]=u.useState("idle"),m=u.useRef(null),[h,p]=u.useState({name:"",type:"postgresql",host:"",port:"5432",database:"",username:"",password:"",ssl:!0}),[y,g]=u.useState({name:"",files:[],description:"",tags:[]}),[w,C]=u.useState({name:"",baseUrl:"",username:"",apiToken:"",spaceKey:"",includeAttachments:!0}),[N,F]=u.useState({name:"",repoUrl:"",accessToken:"",branch:"main",path:"",includeWiki:!1}),P=[{id:"confluence",name:"Confluence",description:"Connect to Confluence spaces for SOPs and documentation",icon:Xt,color:"text-blue-600 bg-blue-100"},{id:"database",name:"Database",description:"Connect to your database for structured data access",icon:Ge,color:"text-green-600 bg-green-100"},{id:"file_upload",name:"File Upload",description:"Upload SOP documents, PDFs, and knowledge files",icon:Pe,color:"text-purple-600 bg-purple-100"},{id:"github",name:"GitHub",description:"Connect to GitHub repositories for documentation",icon:ts,color:"text-gray-600 bg-gray-100"},{id:"gitlab",name:"GitLab",description:"Connect to GitLab projects for documentation",icon:es,color:"text-orange-600 bg-orange-100"}],T=b=>{const k=Array.from(b.target.files||[]);g(G=>({...G,files:[...G.files,...k]}))},D=b=>{g(k=>({...k,files:k.files.filter((G,le)=>le!==b)}))},M=async()=>{d("testing"),o(!0);try{await new Promise(k=>setTimeout(k,2e3)),Math.random()>.3?(d("success"),K.success("Connection successful!")):(d("error"),K.error("Connection failed. Please check your credentials."))}catch{d("error"),K.error("Connection test failed")}finally{o(!1)}},L=async()=>{let b,k=a;switch(a){case"database":if(!h.name||!h.host){K.error("Please fill in required database fields");return}b=h;break;case"file_upload":if(!y.name||y.files.length===0){K.error("Please provide a name and upload at least one file");return}b=y;break;case"confluence":if(!w.name||!w.baseUrl||!w.apiToken){K.error("Please fill in required Confluence fields");return}b=w;break;case"github":case"gitlab":if(!N.name||!N.repoUrl){K.error("Please fill in required repository fields");return}b=N;break}const G={id:Date.now().toString(),type:k,name:b.name,config:b,status:"connected",createdAt:new Date().toISOString()};r(G),K.success("Repository added successfully!"),e()},E=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Repository Name *"}),s.jsx("input",{type:"text",value:h.name,onChange:b=>p(k=>({...k,name:b.target.value})),className:"input",placeholder:"e.g., Customer Database"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Database Type"}),s.jsxs("select",{value:h.type,onChange:b=>p(k=>({...k,type:b.target.value})),className:"input",children:[s.jsx("option",{value:"postgresql",children:"PostgreSQL"}),s.jsx("option",{value:"mysql",children:"MySQL"}),s.jsx("option",{value:"mongodb",children:"MongoDB"}),s.jsx("option",{value:"sqlite",children:"SQLite"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Host *"}),s.jsx("input",{type:"text",value:h.host,onChange:b=>p(k=>({...k,host:b.target.value})),className:"input",placeholder:"localhost"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Port"}),s.jsx("input",{type:"text",value:h.port,onChange:b=>p(k=>({...k,port:b.target.value})),className:"input",placeholder:"5432"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Database Name"}),s.jsx("input",{type:"text",value:h.database,onChange:b=>p(k=>({...k,database:b.target.value})),className:"input",placeholder:"crm_database"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Username"}),s.jsx("input",{type:"text",value:h.username,onChange:b=>p(k=>({...k,username:b.target.value})),className:"input",placeholder:"username"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Password"}),s.jsx("input",{type:"password",value:h.password,onChange:b=>p(k=>({...k,password:b.target.value})),className:"input",placeholder:"••••••••"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"ssl",checked:h.ssl,onChange:b=>p(k=>({...k,ssl:b.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"ssl",className:"text-sm text-gray-700",children:"Use SSL connection"})]})]}),I=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Repository Name *"}),s.jsx("input",{type:"text",value:y.name,onChange:b=>g(k=>({...k,name:b.target.value})),className:"input",placeholder:"e.g., Company SOPs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Description"}),s.jsx("textarea",{value:y.description,onChange:b=>g(k=>({...k,description:b.target.value})),className:"input",rows:3,placeholder:"Describe the content of these files..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Upload Files *"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(Ai,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop files here, or click to browse"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supports PDF, DOC, DOCX, TXT, MD files up to 10MB each"}),s.jsx("input",{ref:m,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt,.md",onChange:T,className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var b;return(b=m.current)==null?void 0:b.click()},className:"mt-2 btn-primary btn-md",children:"Browse Files"})]})]}),y.files.length>0&&s.jsxs("div",{children:[s.jsxs("label",{className:"label",children:["Uploaded Files (",y.files.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:y.files.map((b,k)=>s.jsxs("div",{className:"flex items-center justify-between p-2 border border-gray-200 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pe,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:b.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(b.size/1024/1024).toFixed(2)," MB)"]})]}),s.jsx("button",{type:"button",onClick:()=>D(k),className:"text-red-600 hover:text-red-800",children:s.jsx(Ht,{className:"w-4 h-4"})})]},k))})]})]}),U=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Repository Name *"}),s.jsx("input",{type:"text",value:w.name,onChange:b=>C(k=>({...k,name:b.target.value})),className:"input",placeholder:"e.g., Company Knowledge Base"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Confluence Base URL *"}),s.jsx("input",{type:"url",value:w.baseUrl,onChange:b=>C(k=>({...k,baseUrl:b.target.value})),className:"input",placeholder:"https://yourcompany.atlassian.net/wiki"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Space Key"}),s.jsx("input",{type:"text",value:w.spaceKey,onChange:b=>C(k=>({...k,spaceKey:b.target.value})),className:"input",placeholder:"e.g., SUPPORT, DOCS"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to access all spaces you have permission to"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Username/Email *"}),s.jsx("input",{type:"email",value:w.username,onChange:b=>C(k=>({...k,username:b.target.value})),className:"input",placeholder:"your.email@company.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"API Token *"}),s.jsx("input",{type:"password",value:w.apiToken,onChange:b=>C(k=>({...k,apiToken:b.target.value})),className:"input",placeholder:"••••••••"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Create an API token at: Account Settings → Security → API tokens"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"includeAttachments",checked:w.includeAttachments,onChange:b=>C(k=>({...k,includeAttachments:b.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"includeAttachments",className:"text-sm text-gray-700",children:"Include page attachments"})]})]}),re=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Repository Name *"}),s.jsx("input",{type:"text",value:N.name,onChange:b=>F(k=>({...k,name:b.target.value})),className:"input",placeholder:"e.g., Documentation Repository"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Repository URL *"}),s.jsx("input",{type:"url",value:N.repoUrl,onChange:b=>F(k=>({...k,repoUrl:b.target.value})),className:"input",placeholder:"https://github.com/company/docs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Access Token"}),s.jsx("input",{type:"password",value:N.accessToken,onChange:b=>F(k=>({...k,accessToken:b.target.value})),className:"input",placeholder:"••••••••"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Required for private repositories"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Branch"}),s.jsx("input",{type:"text",value:N.branch,onChange:b=>F(k=>({...k,branch:b.target.value})),className:"input",placeholder:"main"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"Path Filter"}),s.jsx("input",{type:"text",value:N.path,onChange:b=>F(k=>({...k,path:b.target.value})),className:"input",placeholder:"docs/, README.md"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"includeWiki",checked:N.includeWiki,onChange:b=>F(k=>({...k,includeWiki:b.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"includeWiki",className:"text-sm text-gray-700",children:"Include repository wiki"})]})]}),X=()=>{switch(a){case"database":return E();case"file_upload":return I();case"confluence":return U();case"github":case"gitlab":return re();default:return null}},q=()=>{switch(a){case"database":return h.name&&h.host;case"confluence":return w.baseUrl&&w.apiToken;case"github":case"gitlab":return N.repoUrl;case"file_upload":return!1;default:return!1}};return s.jsx(ar,{children:t&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50",onClick:e}),s.jsxs(B.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Repository Integration"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Ht,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"flex h-[calc(90vh-140px)]",children:[s.jsxs("div",{className:"w-80 border-r border-gray-200 p-6 overflow-y-auto",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-4",children:"Choose Integration Type"}),s.jsx("div",{className:"space-y-2",children:P.map(b=>{const k=b.icon;return s.jsx("button",{onClick:()=>n(b.id),className:`w-full text-left p-4 rounded-lg border-2 transition-all ${a===b.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${b.color}`,children:s.jsx(k,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:b.name}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:b.description})]})]})},b.id)})})]}),s.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:s.jsxs("div",{className:"max-w-2xl",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:["Configure ",(v=P.find(b=>b.id===a))==null?void 0:v.name]}),X(),a!=="file_upload"&&s.jsx("div",{className:"mt-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Test Connection"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Verify your credentials and connection settings"})]}),s.jsxs("button",{onClick:M,disabled:!q()||i,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l==="testing"?s.jsx(wi,{className:"w-4 h-4 animate-spin"}):l==="success"?s.jsx(ut,{className:"w-4 h-4 text-green-600"}):l==="error"?s.jsx(Ue,{className:"w-4 h-4 text-red-600"}):s.jsx(bi,{className:"w-4 h-4"}),s.jsx("span",{children:l==="testing"?"Testing...":l==="success"?"Connected":l==="error"?"Failed":"Test Connection"})]})]})})]})})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:L,className:"btn-primary btn-md",children:"Add Repository"})]})]})]})})}function Nl(){const[t,e]=u.useState([{id:"1",name:"Company SOPs",type:"confluence",config:{baseUrl:"https://company.atlassian.net/wiki",spaceKey:"SUPPORT"},status:"connected",createdAt:"2024-01-15T10:00:00Z"},{id:"2",name:"Documentation Repo",type:"github",config:{repoUrl:"https://github.com/company/docs",branch:"main"},status:"disconnected",createdAt:"2024-01-10T15:30:00Z"},{id:"3",name:"Customer Database",type:"database",config:{type:"postgresql",host:"localhost",database:"crm_db"},status:"connected",createdAt:"2024-01-20T09:15:00Z"}]),[r,a]=u.useState(!1),n=m=>{switch(m){case"confluence":return s.jsx(Xt,{className:"w-5 h-5"});case"github":return s.jsx(ts,{className:"w-5 h-5"});case"gitlab":return s.jsx(es,{className:"w-5 h-5"});case"database":return s.jsx(Ge,{className:"w-5 h-5"});case"file_upload":return s.jsx(Pe,{className:"w-5 h-5"});default:return s.jsx(mt,{className:"w-5 h-5"})}},i=m=>{switch(m){case"connected":return"text-green-600 bg-green-100";case"disconnected":return"text-gray-600 bg-gray-100";case"error":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},o=m=>{const h=[...t,m];e(h),localStorage.setItem("repositories",JSON.stringify(h))},l=m=>{const h=t.filter(p=>p.id!==m);e(h),localStorage.setItem("repositories",JSON.stringify(h))},d=m=>{var h;switch(m.type){case"confluence":return`${m.config.baseUrl}${m.config.spaceKey?` | ${m.config.spaceKey}`:""}`;case"github":case"gitlab":return`${m.config.repoUrl} | ${m.config.branch||"main"}`;case"database":return`${m.config.type} | ${m.config.host}${m.config.database?`/${m.config.database}`:""}`;case"file_upload":return`${((h=m.config.files)==null?void 0:h.length)||0} files uploaded`;default:return"Configuration details"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"md:flex md:items-center md:justify-between",children:s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Settings"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Configure your CRM preferences and repository integrations"})]})}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Repository Integrations"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Connect to Confluence, GitHub, and other knowledge sources for AI-powered support"})]}),s.jsxs("button",{onClick:()=>a(!0),className:"btn-primary btn-md flex items-center space-x-2",children:[s.jsx(Pr,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Repository"})]})]}),s.jsx("div",{className:"space-y-4",children:t.map(m=>s.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"text-gray-600",children:n(m.type)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:m.name}),s.jsx("p",{className:"text-sm text-gray-500",children:d(m)})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(m.status)}`,children:m.status}),s.jsx("button",{onClick:()=>l(m.id),className:"text-red-600 hover:text-red-800",children:s.jsx(Or,{className:"w-4 h-4"})})]})]},m.id))})]}),s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ue,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Demo Mode"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"This is a demo version. Repository connections are simulated. In production, you would configure actual API credentials and authentication."})]})]})}),s.jsx(kl,{isOpen:r,onClose:()=>a(!1),onSave:o})]})}const Ur=[{type:"confluence",name:"Confluence",description:"Connect to Atlassian Confluence spaces for SOPs and documentation",icon:"🌊",color:"blue",requiresAuth:!0,authFields:[{key:"baseUrl",label:"Confluence URL",type:"url",placeholder:"https://yourcompany.atlassian.net",required:!0,helpText:"Your Confluence instance URL (without /wiki)"},{key:"username",label:"Username/Email",type:"text",placeholder:"your-email@company.com",required:!0,helpText:"Your Confluence account email"},{key:"apiToken",label:"API Token",type:"password",placeholder:"Enter your Confluence API token",required:!0,helpText:"Generate from Confluence Account Settings → Security → API Tokens"},{key:"spaceKey",label:"Space Key",type:"text",placeholder:"CS",required:!0,helpText:"The space key containing your customer support documentation"}],settingsFields:[{key:"syncInterval",label:"Sync Interval (minutes)",type:"number",defaultValue:60,helpText:"How often to check for updates"},{key:"autoSync",label:"Auto Sync",type:"boolean",defaultValue:!0,helpText:"Automatically sync when changes are detected"}],testConnection:async t=>{try{return(await fetch(`${t.baseUrl}/rest/api/space/${t.spaceKey}`,{headers:{Authorization:`Basic ${btoa(`${t.username}:${t.apiToken}`)}`,Accept:"application/json"}})).ok}catch{return!1}},discoverContent:async t=>({totalDocuments:45,categories:[{name:"returns",count:12},{name:"billing",count:8},{name:"technical",count:15},{name:"account",count:10}],lastUpdated:new Date,sampleTitles:["Return Policy SOP","Billing Dispute Resolution","Technical Support Escalation","Account Recovery Process"]})},{type:"notion",name:"Notion",description:"Connect to Notion databases and pages for knowledge management",icon:"📝",color:"gray",requiresAuth:!0,authFields:[{key:"apiToken",label:"Integration Token",type:"password",placeholder:"secret_...",required:!0,helpText:"Create an integration in Notion and copy the token"},{key:"databaseId",label:"Database ID",type:"text",placeholder:"Enter Notion database ID",required:!0,helpText:"The ID of your knowledge base database"}],settingsFields:[{key:"syncInterval",label:"Sync Interval (minutes)",type:"number",defaultValue:30,helpText:"How often to check for updates"}],testConnection:async t=>{try{return(await fetch(`https://api.notion.com/v1/databases/${t.databaseId}`,{headers:{Authorization:`Bearer ${t.apiToken}`,"Notion-Version":"2022-06-28"}})).ok}catch{return!1}},discoverContent:async t=>({totalDocuments:32,categories:[{name:"support",count:18},{name:"policies",count:8},{name:"procedures",count:6}],lastUpdated:new Date,sampleTitles:["Customer Support Guidelines","Escalation Procedures","FAQ Management"]})},{type:"google-docs",name:"Google Drive",description:"Connect to Google Drive folders for document-based knowledge",icon:"📄",color:"green",requiresAuth:!0,authFields:[{key:"clientId",label:"Client ID",type:"text",placeholder:"Your Google OAuth Client ID",required:!0,helpText:"From Google Cloud Console → APIs & Services → Credentials"},{key:"clientSecret",label:"Client Secret",type:"password",placeholder:"Your Google OAuth Client Secret",required:!0,helpText:"From Google Cloud Console → APIs & Services → Credentials"},{key:"folderId",label:"Folder ID",type:"text",placeholder:"Google Drive folder ID",required:!0,helpText:"The ID of the folder containing your documents"}],settingsFields:[{key:"syncInterval",label:"Sync Interval (minutes)",type:"number",defaultValue:120,helpText:"How often to check for updates"}],testConnection:async t=>!!(t.clientId&&t.clientSecret&&t.folderId),discoverContent:async t=>({totalDocuments:28,categories:[{name:"policies",count:12},{name:"procedures",count:16}],lastUpdated:new Date,sampleTitles:["Employee Handbook","Customer Service Policies","Standard Operating Procedures"]})},{type:"github",name:"GitHub",description:"Connect to GitHub repositories for documentation and wikis",icon:"🐙",color:"purple",requiresAuth:!0,authFields:[{key:"token",label:"Personal Access Token",type:"password",placeholder:"ghp_...",required:!0,helpText:"Generate from GitHub Settings → Developer settings → Personal access tokens"},{key:"repoUrl",label:"Repository URL",type:"url",placeholder:"https://github.com/owner/repo",required:!0,helpText:"The GitHub repository containing your documentation"}],settingsFields:[{key:"syncInterval",label:"Sync Interval (minutes)",type:"number",defaultValue:180,helpText:"How often to check for updates"},{key:"includePaths",label:"Include Paths",type:"multiselect",defaultValue:["docs/","wiki/","README.md"],helpText:"Paths to include in sync"}],testConnection:async t=>{try{const e=t.repoUrl.replace("https://github.com/","");return(await fetch(`https://api.github.com/repos/${e}`,{headers:{Authorization:`token ${t.token}`,Accept:"application/vnd.github.v3+json"}})).ok}catch{return!1}},discoverContent:async t=>({totalDocuments:15,categories:[{name:"documentation",count:10},{name:"wiki",count:5}],lastUpdated:new Date,sampleTitles:["API Documentation","Setup Guide","Contributing Guidelines"]})},{type:"sharepoint",name:"SharePoint",description:"Connect to Microsoft SharePoint sites and document libraries",icon:"🏢",color:"indigo",requiresAuth:!0,authFields:[{key:"siteUrl",label:"SharePoint Site URL",type:"url",placeholder:"https://yourcompany.sharepoint.com/sites/sitename",required:!0,helpText:"Your SharePoint site URL"},{key:"clientId",label:"Client ID",type:"text",placeholder:"Azure App Client ID",required:!0,helpText:"From Azure App Registration"},{key:"clientSecret",label:"Client Secret",type:"password",placeholder:"Azure App Client Secret",required:!0,helpText:"From Azure App Registration"}],settingsFields:[{key:"syncInterval",label:"Sync Interval (minutes)",type:"number",defaultValue:90,helpText:"How often to check for updates"}],testConnection:async t=>!!(t.siteUrl&&t.clientId&&t.clientSecret),discoverContent:async t=>({totalDocuments:67,categories:[{name:"policies",count:23},{name:"procedures",count:32},{name:"templates",count:12}],lastUpdated:new Date,sampleTitles:["Corporate Policies","HR Procedures","IT Support Documentation"]})},{type:"custom-api",name:"Custom API",description:"Connect to your own API or any REST endpoint for custom integrations",icon:"🔗",color:"orange",requiresAuth:!0,authFields:[{key:"baseUrl",label:"API Base URL",type:"url",placeholder:"https://api.yourcompany.com",required:!0,helpText:"The base URL of your API"},{key:"authType",label:"Authentication Type",type:"select",required:!0,options:[{value:"bearer",label:"Bearer Token"},{value:"basic",label:"Basic Auth"},{value:"apikey",label:"API Key"}],helpText:"How to authenticate with your API"},{key:"credentials",label:"API Credentials",type:"password",placeholder:"Enter your API key or token",required:!0,helpText:"Your API authentication credentials"}],settingsFields:[{key:"documentsEndpoint",label:"Documents Endpoint",type:"text",defaultValue:"/documents",helpText:"API endpoint to fetch documents"},{key:"syncInterval",label:"Sync Interval (minutes)",type:"number",defaultValue:60,helpText:"How often to check for updates"}],testConnection:async t=>{try{return(await fetch(`${t.baseUrl}/health`)).ok}catch{return!1}},discoverContent:async t=>({totalDocuments:0,categories:[],lastUpdated:new Date,sampleTitles:[]})}],tr=t=>Ur.find(e=>e.type===t);class Sl{constructor(){Te(this,"repositories",new Map);Te(this,"syncIntervals",new Map);this.loadRepositories()}async addRepository(e){const r=this.generateId(),a={...e,id:r,createdAt:new Date,syncStatus:"idle"};return this.repositories.set(r,a),await this.saveRepositories(),a.settings.autoSync&&this.setupAutoSync(a),console.log(`✅ Repository "${a.name}" added successfully`),r}async updateRepository(e,r){var i;const a=this.repositories.get(e);if(!a)throw new Error(`Repository ${e} not found`);const n={...a,...r};this.repositories.set(e,n),await this.saveRepositories(),((i=r.settings)==null?void 0:i.autoSync)!==void 0&&(this.clearAutoSync(e),n.settings.autoSync&&n.isActive&&this.setupAutoSync(n))}async removeRepository(e){this.clearAutoSync(e),this.repositories.delete(e),await this.saveRepositories(),console.log(`🗑️ Repository ${e} removed`)}getRepository(e){return this.repositories.get(e)}getAllRepositories(){return Array.from(this.repositories.values())}getActiveRepositories(){return this.getAllRepositories().filter(e=>e.isActive)}async testConnection(e){const r=this.repositories.get(e);if(!r)throw new Error(`Repository ${e} not found`);const a=tr(r.type);if(!a)throw new Error(`Connector for type ${r.type} not found`);try{console.log(`🔌 Testing connection for ${r.name}...`);const n=await a.testConnection(r.credentials);return await this.updateRepository(e,{syncStatus:n?"success":"error"}),console.log(`${n?"✅":"❌"} Connection test ${n?"passed":"failed"} for ${r.name}`),n}catch(n){return console.error(`❌ Connection test failed for ${r.name}:`,n),await this.updateRepository(e,{syncStatus:"error"}),!1}}async discoverContent(e){const r=this.repositories.get(e);if(!r)throw new Error(`Repository ${e} not found`);const a=tr(r.type);if(!a)throw new Error(`Connector for type ${r.type} not found`);try{console.log(`🔍 Discovering content for ${r.name}...`);const n=await a.discoverContent(r);return await this.updateRepository(e,{documentsCount:n.totalDocuments,categoriesCount:n.categories.length,lastSync:new Date,syncStatus:"success"}),console.log(`✅ Content discovery complete for ${r.name}: ${n.totalDocuments} documents found`),n}catch(n){throw console.error(`❌ Content discovery failed for ${r.name}:`,n),await this.updateRepository(e,{syncStatus:"error"}),n}}async syncRepository(e){const r=this.repositories.get(e);if(!r)throw new Error(`Repository ${e} not found`);const a=Date.now();await this.updateRepository(e,{syncStatus:"syncing"});try{if(console.log(`🔄 Starting sync for ${r.name}...`),!await this.testConnection(e))throw new Error("Connection test failed");const i=await this.discoverContent(e),o={repositoryId:e,status:"success",documentsProcessed:i.totalDocuments,documentsAdded:i.totalDocuments,documentsUpdated:0,documentsRemoved:0,errors:[],duration:Date.now()-a};return await this.updateRepository(e,{syncStatus:"success",lastSync:new Date}),console.log(`✅ Sync completed for ${r.name} in ${o.duration}ms`),o}catch(n){const i={repositoryId:e,status:"error",documentsProcessed:0,documentsAdded:0,documentsUpdated:0,documentsRemoved:0,errors:[n instanceof Error?n.message:"Unknown error"],duration:Date.now()-a};return await this.updateRepository(e,{syncStatus:"error"}),console.error(`❌ Sync failed for ${r.name}:`,n),i}}async syncAllActiveRepositories(){const e=this.getActiveRepositories();console.log(`🔄 Starting bulk sync for ${e.length} repositories...`);const a=(await Promise.allSettled(e.map(i=>this.syncRepository(i.id)))).map((i,o)=>{var l;return i.status==="fulfilled"?i.value:{repositoryId:e[o].id,status:"error",documentsProcessed:0,documentsAdded:0,documentsUpdated:0,documentsRemoved:0,errors:[((l=i.reason)==null?void 0:l.message)||"Unknown error"],duration:0}}),n=a.filter(i=>i.status==="success").length;return console.log(`✅ Bulk sync completed: ${n}/${e.length} repositories synced successfully`),a}setupAutoSync(e){if(!e.settings.autoSync||!e.isActive)return;const r=e.settings.syncInterval*60*1e3,a=setInterval(async()=>{try{await this.syncRepository(e.id)}catch(n){console.error(`Auto-sync failed for ${e.name}:`,n)}},r);this.syncIntervals.set(e.id,a),console.log(`⏰ Auto-sync enabled for ${e.name} (every ${e.settings.syncInterval} minutes)`)}clearAutoSync(e){const r=this.syncIntervals.get(e);r&&(clearInterval(r),this.syncIntervals.delete(e))}async loadRepositories(){try{const e=localStorage.getItem("repositories");if(e){const r=JSON.parse(e);r.forEach(a=>{a.createdAt=new Date(a.createdAt),a.lastSync&&(a.lastSync=new Date(a.lastSync)),this.repositories.set(a.id,a),a.isActive&&a.settings.autoSync&&this.setupAutoSync(a)}),console.log(`📂 Loaded ${r.length} repositories from storage`)}}catch(e){console.error("Error loading repositories:",e)}}async saveRepositories(){try{const e=Array.from(this.repositories.values());localStorage.setItem("repositories",JSON.stringify(e))}catch(e){throw console.error("Error saving repositories:",e),e}}generateId(){return`repo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getConnectors(){return Ur}getRepositoryStats(){const e=this.getAllRepositories(),r=e.filter(i=>i.isActive),a=e.reduce((i,o)=>i+o.documentsCount,0),n=e.reduce((i,o)=>(i[o.syncStatus]=(i[o.syncStatus]||0)+1,i),{});return{total:e.length,active:r.length,totalDocuments:a,statusCounts:n,lastSync:e.reduce((i,o)=>o.lastSync&&(!i||o.lastSync>i)?o.lastSync:i,null)}}destroy(){this.syncIntervals.forEach(e=>clearInterval(e)),this.syncIntervals.clear()}}const Ft=new Sl,Cl=()=>{const[t,e]=u.useState([]),[r,a]=u.useState(!1),[n,i]=u.useState({total:0,active:0,totalDocuments:0,statusCounts:{},lastSync:null});u.useEffect(()=>{o()},[]);const o=()=>{const p=Ft.getAllRepositories();e(p),i(Ft.getRepositoryStats())},l=()=>{a(!0)},d=Ft.getConnectors(),m=p=>{switch(p){case"success":return s.jsx(ut,{className:"h-4 w-4 text-green-500"});case"error":return s.jsx(Tr,{className:"h-4 w-4 text-red-500"});case"syncing":return s.jsx(vi,{className:"h-4 w-4 animate-spin text-blue-500"});default:return s.jsx(ht,{className:"h-4 w-4 text-gray-400"})}},h=p=>{switch(p){case"success":return"Connected";case"error":return"Error";case"syncing":return"Syncing...";default:return"Idle"}};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Repository Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Connect and manage your knowledge repositories to power AI responses"})]}),s.jsxs("button",{onClick:l,className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[s.jsx(Pr,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Repository"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ge,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Repositories"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ut,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.active}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Repositories"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(mt,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.totalDocuments.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Documents"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ht,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.lastSync?new Date(n.lastSync).toLocaleDateString():"Never"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Last Sync"})]})]})})]}),t.length===0&&s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(xi,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Getting Started"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your knowledge repositories to provide AI responses with company-specific information instead of generic answers. Here's what you can connect:"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:d.map(p=>s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:p.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:p.name}),s.jsx("div",{className:"text-sm text-gray-600",children:p.description})]})]})},p.type))}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(hi,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Important:"})," Ensure you have the necessary permissions and API keys for the repositories you want to connect. All credentials are stored securely in your browser."]})})]})})]})}),t.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Repositories"}),s.jsx("div",{className:"space-y-4",children:t.map(p=>{var y;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-xl",children:((y=d.find(g=>g.type===p.type))==null?void 0:y.icon)||"📁"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:p.name}),!p.isActive&&s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:"Inactive"})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded capitalize",children:p.type.replace("-"," ")}),s.jsxs("div",{className:"flex items-center space-x-1",children:[m(p.syncStatus),s.jsx("span",{className:"text-sm text-gray-600",children:h(p.syncStatus)})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 rounded",children:s.jsx(mt,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-red-600 hover:text-red-900 rounded",children:s.jsx(Or,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:p.documentsCount.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Documents"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:p.categoriesCount}),s.jsx("div",{className:"text-sm text-gray-600",children:"Categories"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[p.settings.syncInterval,"m"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Sync Interval"})]})]})]},p.id)})})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Repository"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Repository configuration modal will be implemented here."}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded hover:bg-gray-200",children:"Cancel"}),s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Coming Soon"})]})]})})]})},Al=()=>null,Rl=new Ra({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:5*60*1e3,cacheTime:10*60*1e3,retry:(t,e)=>(e==null?void 0:e.status)===401||(e==null?void 0:e.status)===403?!1:t<3},mutations:{retry:1}}});function Pl(){return s.jsx($e,{children:s.jsxs(Qa,{client:Rl,children:[s.jsx(na,{children:s.jsx(ii,{children:s.jsxs(ai,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white",children:s.jsxs(ia,{children:[s.jsx(oe,{path:"/signin",element:s.jsx(Ts,{children:s.jsx(So,{})})}),s.jsx(oe,{path:"/signup",element:s.jsx(Ts,{children:s.jsx(Co,{})})}),s.jsxs(oe,{path:"/",element:s.jsx(oi,{children:s.jsx(No,{})}),children:[s.jsx(oe,{index:!0,element:s.jsx(nt,{to:"/dashboard",replace:!0})}),s.jsx(oe,{path:"dashboard",element:s.jsx(Qo,{})}),s.jsx(oe,{path:"customers",element:s.jsx(Ho,{})}),s.jsx(oe,{path:"customers/:id",element:s.jsx(Ko,{})}),s.jsx(oe,{path:"analytics",element:s.jsx(zo,{})}),s.jsx(oe,{path:"ai-chat",element:s.jsx(wl,{})}),s.jsx(oe,{path:"reports",element:s.jsx(jl,{})}),s.jsx(oe,{path:"settings",element:s.jsx(Nl,{})}),s.jsx(oe,{path:"repositories",element:s.jsx(Cl,{})})]}),s.jsx(oe,{path:"*",element:s.jsx(nt,{to:"/signin",replace:!0})})]})}),s.jsx(ri,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#ffffff",color:"#1f2937",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",borderRadius:"12px",padding:"16px 20px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#22c55e",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}),s.jsx(Al,{initialIsOpen:!1})]})})}function Ol(){return console.log("DebugApp component is rendering"),s.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",color:"#111827",fontFamily:"Inter, system-ui, sans-serif",padding:"2rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[s.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1rem",color:"#111827"},children:"🚀 GenAI CRM Dashboard - Debug Mode"}),s.jsxs("div",{style:{backgroundColor:"#ffffff",padding:"2rem",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",maxWidth:"600px",textAlign:"center"},children:[s.jsx("h2",{style:{marginBottom:"1rem",color:"#059669"},children:"✅ React is Loading Successfully!"}),s.jsx("p",{style:{marginBottom:"1rem",color:"#4b5563"},children:"This debug page confirms that:"}),s.jsxs("ul",{style:{textAlign:"left",marginBottom:"1.5rem",color:"#6b7280"},children:[s.jsx("li",{children:"✅ React is rendering properly"}),s.jsx("li",{children:"✅ CSS styling is working"}),s.jsx("li",{children:"✅ Fonts are loading (Inter)"}),s.jsx("li",{children:"✅ Colors and layout are applied"})]}),s.jsx("div",{style:{backgroundColor:"#fef3c7",padding:"1rem",borderRadius:"0.375rem",marginBottom:"1rem",borderLeft:"4px solid #f59e0b"},children:s.jsxs("p",{style:{margin:0,color:"#92400e"},children:[s.jsx("strong",{children:"Debug Mode Active:"})," This page bypasses all complex routing and authentication."]})}),s.jsxs("p",{style:{color:"#4b5563",fontSize:"0.875rem"},children:["Current time: ",new Date().toLocaleString()]})]}),s.jsxs("div",{style:{marginTop:"2rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",width:"100%",maxWidth:"600px"},children:[s.jsxs("div",{style:{backgroundColor:"#dbeafe",padding:"1rem",borderRadius:"0.5rem",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1e40af"},children:"42"}),s.jsx("div",{style:{fontSize:"0.875rem",color:"#3730a3"},children:"Sample Metric"})]}),s.jsxs("div",{style:{backgroundColor:"#dcfce7",padding:"1rem",borderRadius:"0.5rem",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#166534"},children:"98%"}),s.jsx("div",{style:{fontSize:"0.875rem",color:"#14532d"},children:"Success Rate"})]}),s.jsxs("div",{style:{backgroundColor:"#fef3c7",padding:"1rem",borderRadius:"0.5rem",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#92400e"},children:"Debug"}),s.jsx("div",{style:{fontSize:"0.875rem",color:"#a16207"},children:"Mode Active"})]})]})]})}console.log("🚀 Main.tsx is executing!");console.log("React version:",ee.version);const Tl=!1;try{const t=document.getElementById("root");console.log("Root element found:",t),t?(console.log("Rendering React app..."),ea.render(s.jsx(ee.StrictMode,{children:Tl?s.jsx(Ol,{}):s.jsx(Pl,{})}),t),console.log("✅ React app rendered successfully!")):console.error("❌ Root element not found!")}catch(t){console.error("❌ Error during React rendering:",t)}
//# sourceMappingURL=index-31b008ce.js.map
